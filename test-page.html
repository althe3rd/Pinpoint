<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Test Page - TestMark Development</title>
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="favicon_io/android-chrome-512x512.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">
    <link rel="shortcut icon" href="favicon_io/favicon.ico">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .test-section h2 {
            color: #333;
            border-bottom: 2px solid #007cba;
            padding-bottom: 0.5rem;
        }
        
        .violation-type {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 0.75rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .severity-critical { border-left: 5px solid #dc3545; }
        .severity-serious { border-left: 5px solid #fd7e14; }
        .severity-moderate { border-left: 5px solid #ffc107; }
        .severity-minor { border-left: 5px solid #28a745; }
        
        /* Intentionally poor contrast for testing */
        .poor-contrast {
            color: #999;
            background-color: #ccc;
            padding: 10px;
        }
        
        .very-poor-contrast {
            color: #ddd;
            background-color: #eee;
            padding: 10px;
        }
        
        /* Hidden elements that should be accessible */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Auto-playing content */
        .auto-content {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Focus indicators - some missing */
        .no-focus:focus {
            outline: none;
        }
        
        .custom-focus:focus {
            outline: 3px solid #007cba;
            outline-offset: 2px;
        }
        
        .table-layout {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }
        
        .table-layout th,
        .table-layout td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .color-only {
            padding: 10px;
            margin: 5px 0;
        }

        .text-over-image {
            position: relative;
            display: inline-block;
            width: 200px;
            height: 100px;
            background-color: #f0f0f0;
            margin: 10px;
            padding: 10px;
        }

        .text-over-image img {
            position: absolute;
            top: 0px;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .text-over-image p {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .text-over-image h3 {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index:5;
            color: #fff;
        }

        .red-item { background-color: #ffebee; }
        .green-item { background-color: #e8f5e8; }
        .blue-item { background-color: #e3f2fd; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Accessibility Test Page for TestMark Development</h1>
        <p>This page contains various accessibility violations to test your bookmarklet. Use your accessibility checker to identify and fix these issues.</p>

        <!-- Quick Testing Bookmarklet -->
        <section class="test-section" style="background: #e3f2fd; border-color: #007cba;">
            <h2>üöÄ Quick Test Bookmarklet</h2>
            <p><strong>Latest development version:</strong> Click the button below to test your latest changes instantly!</p>
            
            <div style="text-align: center; margin: 1.5rem 0;">
                <a href="#" id="test-bookmarklet" style="background: #007cba; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 1.1rem; display: inline-block; transition: all 0.3s ease;">
                    üìã Test Latest Bookmarklet
                </a>
            </div>
            
            <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; padding: 1rem; margin: 1rem 0; font-size: 0.9rem;">
                <strong>Development Tip:</strong> This bookmarklet is automatically updated when you run <code>npm run build</code> or <code>npm run watch</code>. 
                Just refresh this page to get the latest version!
            </div>
        </section>

        <!-- Test Instructions -->
        <section class="test-section" style="background: #e8f5e8; border-color: #28a745;">
            <h2>Testing Instructions</h2>
            <p><strong>To test your accessibility checker:</strong></p>
            <ol>
                <li>Use the bookmarklet above to load your latest development version</li>
                <li>Verify it detects the various violation types above</li>
                <li>Check that severity levels are correctly identified</li>
                <li>Test the click-to-highlight functionality on different elements</li>
                <li>Ensure the tool's own UI doesn't interfere with analysis</li>
                <li>Verify WCAG 2.1 AA compliance checking works properly</li>
            </ol>
            
            <h3>Expected Violations by Category:</h3>
            <ul>
                <li><strong>Critical:</strong> Missing alt attributes, inaccessible custom controls</li>
                <li><strong>Serious:</strong> Missing form labels, poor table structure, non-focusable interactive elements</li>
                <li><strong>Moderate:</strong> Color contrast issues, missing captions, improper heading structure</li>
                <li><strong>Minor:</strong> Missing language attributes, non-descriptive links</li>
            </ul>
        </section>
        
        <!-- Image-related violations -->
        <section class="test-section severity-critical">
            <h2>Image and Media Issues</h2>
            <div class="violation-type">
                <h3>Missing Alt Text (Critical)</h3>
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzk5OSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeD0iMCIgZHk9IjAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iY2VudHJhbCI+SW1hZ2UgMTwvdGV4dD48L3N2Zz4=" width="200" height="100">
                <p>This image has no alt attribute at all.</p>
            </div>

            <div class="violation-type text-over-image">
                <h3>Text over an image</h3>
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzk5OSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeD0iMCIgZHk9IjAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iY2VudHJhbCI+SW1hZ2UgMTwvdGV4dD48L3N2Zz4=" width="200" height="100">
                <p>This image has no alt attribute at all.</p>
            </div>
            
            <div class="violation-type">
                <h3>Empty Alt Text on Informative Image (Serious)</h3>
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzMzNyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeD0iMCIgZHk9IjAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iY2VudHJhbCI+Q2hhcnQgRGF0YTwvdGV4dD48L3N2Zz4=" alt="" width="200" height="100">
                <p>This is an important chart showing sales data, but it has empty alt text.</p>
            </div>
            
            <div class="violation-type">
                <h3>Auto-playing Content (Moderate)</h3>
                <div class="auto-content">‚ö†Ô∏è This content automatically blinks and cannot be paused!</div>
            </div>
        </section>

        <!-- Form-related violations -->
        <section class="test-section severity-serious">
            <h2>Form Accessibility Issues</h2>
            <div class="violation-type">
                <h3>Missing Form Labels (Serious)</h3>
                <form>
                    <p>Enter your name:</p>
                    <input type="text" placeholder="Your name here">
                    
                    <p>Email Address:</p>
                    <input type="email">
                    
                    <p>Choose your favorite color:</p>
                    <select>
                        <option>Red</option>
                        <option>Blue</option>
                        <option>Green</option>
                    </select>
                </form>
            </div>
            
            <div class="violation-type">
                <h3>Missing Fieldset for Radio Buttons (Serious)</h3>
                <p>What is your preferred contact method?</p>
                <input type="radio" name="reset" id="email" value="email">Email
                <input type="radio" name="contact" id="phone" value="phone">Phone
                <input type="radio" name="contact" id="mail" value="mail">Mail
            </div>
            
            <div class="violation-type">
                <h3>Missing Required Field Indicators (Moderate)</h3>
                <label for="required-field">Important Information</label>
                <input type="text" id="required-field" required>
                <p>This field is required but not clearly marked.</p>
            </div>
        </section>

        <!-- Color and Contrast Issues -->
        <section class="test-section severity-moderate">
            <h2>Color and Contrast Problems</h2>
            <div class="violation-type">
                <h3>Poor Color Contrast (Serious)</h3>
                <div class="poor-contrast">
                    This text has poor contrast and may be difficult to read for users with visual impairments.
                </div>
                <div class="very-poor-contrast">
                    This text has extremely poor contrast and fails WCAG standards.
                </div>
            </div>
            
            <div class="violation-type">
                <h3>Color-Only Information (Moderate)</h3>
                <p>Complete the following items:</p>
                <div class="red-item color-only">Important task - do this first</div>
                <div class="green-item color-only">Completed task</div>
                <div class="blue-item color-only">Optional task</div>
                <p>The status is indicated by color only, without text or icons.</p>
            </div>
        </section>

        <!-- Heading Structure Issues -->
        <section class="test-section severity-moderate">
            <h2>Heading Structure Problems</h2>
            <div class="violation-type">
                <h3>Skipped Heading Levels (Moderate)</h3>
                <h2>Section Title</h2>
                <h5>This heading skips from H2 to H5</h5>
                <p>This violates the logical heading hierarchy.</p>
                
                <h1>Another H1 in the document</h1>
                <p>There should only be one H1 per page.</p>
            </div>
        </section>

        <!-- Link and Button Issues -->
        <section class="test-section severity-serious">
            <h2>Link and Button Accessibility</h2>
            <div class="violation-type">
                <h3>Non-descriptive Links (Moderate)</h3>
                <p>For more information, <a href="#">click here</a>.</p>
                <p>Read more about accessibility <a href="#">here</a>.</p>
                <p><a href="#">Learn more</a> about our services.</p>
            </div>
            
            <div class="violation-type">
                <h3>Missing Button Labels (Serious)</h3>
                <button>üëç</button>
                <button>‚ùå</button>
                <button></button>
            </div>
            
            <div class="violation-type">
                <h3>Focus Indicator Issues (Moderate)</h3>
                <button class="no-focus">Button with no focus indicator</button>
                <button class="custom-focus">Button with proper focus indicator</button>
                <a href="#" class="no-focus">Link with no focus indicator</a>
            </div>
        </section>

        <!-- Table Issues -->
        <section class="test-section severity-serious">
            <h2>Table Accessibility Problems</h2>
            <div class="violation-type">
                <h3>Missing Table Headers (Serious)</h3>
                <table class="table-layout">
                    <tr>
                        <td>Name</td>
                        <td>Age</td>
                        <td>City</td>
                    </tr>
                    <tr>
                        <td>John Doe</td>
                        <td>30</td>
                        <td>New York</td>
                    </tr>
                    <tr>
                        <td>Jane Smith</td>
                        <td>25</td>
                        <td>Los Angeles</td>
                    </tr>
                </table>
                <p>This table uses TD elements instead of TH for headers.</p>
            </div>
            
            <div class="violation-type">
                <h3>Missing Table Caption (Moderate)</h3>
                <table class="table-layout">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Price</th>
                            <th>Stock</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Widget A</td>
                            <td>$10</td>
                            <td>50</td>
                        </tr>
                        <tr>
                            <td>Widget B</td>
                            <td>$15</td>
                            <td>25</td>
                        </tr>
                    </tbody>
                </table>
                <p>This table has no caption to describe its purpose.</p>
            </div>
        </section>

        <!-- ARIA and Semantic Issues -->
        <section class="test-section severity-moderate">
            <h2>ARIA and Semantic Markup Issues</h2>
            <div class="violation-type">
                <h3>Missing ARIA Labels (Moderate)</h3>
                <div onclick="alert('Clicked!')" style="cursor: pointer; padding: 10px; background: #ddd;">
                    This div acts like a button but has no ARIA role or label
                </div>
                
                <input type="text" placeholder="Search...">
                <button>üîç</button>
                <p>The search button has no accessible name.</p>
            </div>
            
            <div class="violation-type">
                <h3>Incorrect ARIA Usage (Serious)</h3>
                <div role="button" tabindex="0">
                    This element has a button role but no accessible name
                </div>
                
                <ul role="tablist">
                    <li>This is not a proper tab implementation</li>
                    <li>Missing required ARIA attributes</li>
                </ul>
            </div>
        </section>

        <!-- Multiple Instance Manual Review Examples -->
        <section class="test-section severity-moderate">
            <h2>Manual Review Items (Multiple Instances)</h2>
            <div class="violation-type">
                <h3>Elements Requiring Manual Review (Multiple Instances)</h3>
                <p>These examples should trigger axe-core's "incomplete" results that require manual verification:</p>
                
                <!-- Enhanced color contrast examples that trigger color-contrast-enhanced rule -->
                <div style="margin: 20px 0;">
                    <h4>Enhanced Color Contrast (AAA Standards - Manual Review):</h4>
                    <p style="color: #767676; background: #ffffff; padding: 8px; margin: 5px 0;">
                        This text has 4.54:1 contrast ratio - meets AA but needs AAA manual review (7:1 required).
                    </p>
                    <p style="color: #777777; background: #ffffff; padding: 8px; margin: 5px 0;">
                        This text has 4.48:1 contrast ratio - meets AA but needs AAA manual review.
                    </p>
                    <p style="color: #757575; background: #ffffff; padding: 8px; margin: 5px 0;">
                        This text has 4.62:1 contrast ratio - meets AA but needs AAA manual review.
                    </p>
                </div>
                
                <!-- Audio elements that trigger audio-caption incomplete rule -->
                <div style="margin: 20px 0;">
                    <h4>Audio Content (Manual Caption Review):</h4>
                    <audio controls>
                        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjuT2O6+ditFJ3vN8eGHEwAZcLD+z4ciABNgOqr6Z1AAABJAAFRAAA=" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <p>Audio without captions - requires manual review to determine if captions are needed.</p>
                    
                    <audio controls>
                        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjuT2O6+ditFJ3vN8eGHEwAZcLD+z4ciABNgOqr6Z1AAABJAAFRAAA=" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <p>Another audio element requiring manual caption review.</p>
                    
                    <audio controls style="margin: 10px 0;">
                        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjuT2O6+ditFJ3vN8eGHEwAZcLD+z4ciABNgOqr6Z1AAABJAAFRAAA=" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <p>Third audio element for manual review testing.</p>
                </div>
                
                <!-- Identical links with same purpose that need manual verification -->
                <div style="margin: 20px 0;">
                    <h4>Identical Links (Same Purpose Verification):</h4>
                    <p>Product documentation: <a href="/docs">Read More</a></p>
                    <p>Service information: <a href="/services">Read More</a></p>
                    <p>Support details: <a href="/support">Read More</a></p>
                    <p>These "Read More" links may serve the same general purpose but need manual verification.</p>
                </div>
                
                <!-- Hidden content with screen reader text -->
                <div style="margin: 20px 0;">
                    <h4>Hidden Screen Reader Content:</h4>
                    <div>
                        <span class="sr-only" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;">
                            This text is hidden but available to screen readers - needs manual review
                        </span>
                        <button>Click me</button>
                    </div>
                    <div>
                        <span class="sr-only" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;">
                            Another hidden screen reader text for manual verification
                        </span>
                        <a href="#content">Skip to content</a>
                    </div>
                    <div>
                        <span class="sr-only" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;">
                            Third hidden text requiring manual review
                        </span>
                        <button>Submit</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Keyboard Navigation Issues -->
        <section class="test-section severity-serious">
            <h2>Keyboard Navigation Problems</h2>
            <div class="violation-type">
                <h3>Non-focusable Interactive Elements (Serious)</h3>
                <div onclick="toggleContent()" style="cursor: pointer; padding: 10px; background: #e3f2fd;">
                    Click to toggle content (not keyboard accessible)
                </div>
                
                <span onclick="showModal()" style="cursor: pointer; text-decoration: underline; color: blue;">
                    Open modal (looks like a link but isn't)
                </span>
            </div>
            
            <div class="violation-type">
                <h3>Missing Skip Links (Moderate)</h3>
                <p>This page has no skip navigation links for keyboard users.</p>
            </div>
        </section>

        <!-- Language and Structure Issues -->
        <section class="test-section severity-moderate">
            <h2>Language and Document Structure</h2>
            <div class="violation-type">
                <h3>Missing Language Attributes (Minor)</h3>
                <p>Some text in <span>espa√±ol</span> without lang attribute.</p>
                <blockquote>
                    "Bonjour le monde" - French text without language identification
                </blockquote>
            </div>
            
            <div class="violation-type">
                <h3>Missing Landmarks (Moderate)</h3>
                <p>This page structure lacks proper landmark regions like main, nav, aside, etc.</p>
            </div>
        </section>

        <!-- Custom Interactive Elements -->
        <section class="test-section severity-serious">
            <h2>Custom Interactive Elements</h2>
            <div class="violation-type">
                <h3>Inaccessible Custom Controls (Critical)</h3>
                <div id="custom-dropdown" style="border: 1px solid #ccc; padding: 5px; cursor: pointer;">
                    Select an option ‚ñº
                </div>
                <div id="dropdown-options" style="display: none; border: 1px solid #ccc; background: white;">
                    <div onclick="selectOption('Option 1')" style="padding: 5px; cursor: pointer;">Option 1</div>
                    <div onclick="selectOption('Option 2')" style="padding: 5px; cursor: pointer;">Option 2</div>
                    <div onclick="selectOption('Option 3')" style="padding: 5px; cursor: pointer;">Option 3</div>
                </div>
                <p>This custom dropdown has no ARIA support or keyboard navigation.</p>
            </div>
        </section>

        
    </div>

    <script>
        // Latest bookmarklet code - automatically updated by build process
        const testBookmarkletCode = `!function(){"use strict";window.uwAccessibilityChecker?window.uwAccessibilityChecker.remove():(window.uwAccessibilityChecker={version:"1.4.9",issues:[],axeLoaded:!1,checkedItems:new Set,isMinimized:!1,shadowRoot:null,filters:{errors:!0,warnings:!0,info:!0},init:function(){this.setupShadowDOM(),this.checkForUpdates(),this.showLoadingPanel(),this.loadAxeCore()},setupShadowDOM:function(){const e=document.createElement("div");if(e.id="uw-a11y-container",document.body.appendChild(e),this.shadowRoot=e.attachShadow({mode:"open"}),!document.getElementById("uw-a11y-global-styles")){const e=document.createElement("style");e.id="uw-a11y-global-styles",e.textContent="\\n .uw-a11y-highlight {\\n background: yellow !important;\\n border: 2px solid red !important;\\n box-shadow: 0 0 0 2px yellow !important;\\n }\\n ",document.head.appendChild(e)}},showLoadingPanel:function(){this.shadowRoot.innerHTML=\`\\n \${this.getStyles()}\\n <div id="uw-a11y-panel">\\n <div id="uw-a11y-header">\\n <div class="uw-a11y-title-container">\\n <svg viewBox="0 0 404 404" fill="none" xmlns="http://www.w3.org/2000/svg" class="uw-a11y-logo">\\n <g filter="url(#filter0_d_1_19)">\\n <path fill-rule="evenodd" clip-rule="evenodd" d="M201 349C288.261 349 359 278.261 359 191C359 103.739 288.261 33 201 33C113.739 33 43 103.739 43 191C43 278.261 113.739 349 201 349ZM201 373C301.516 373 383 291.516 383 191C383 90.4842 301.516 9 201 9C100.484 9 19 90.4842 19 191C19 291.516 100.484 373 201 373Z" fill="url(#paint0_linear_1_19)"/>\\n </g>\\n <g filter="url(#filter1_d_1_19)">\\n <path fill-rule="evenodd" clip-rule="evenodd" d="M200.5 302C262.08 302 312 252.08 312 190.5C312 128.92 262.08 79 200.5 79C138.92 79 89 128.92 89 190.5C89 252.08 138.92 302 200.5 302ZM200.5 326C275.335 326 336 265.335 336 190.5C336 115.665 275.335 55 200.5 55C125.665 55 65 115.665 65 190.5C65 265.335 125.665 326 200.5 326Z" fill="url(#paint1_linear_1_19)"/>\\n </g>\\n <defs>\\n <filter id="filter0_d_1_19" x="0.4" y="0.4" width="403.2" height="403.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\\n <feFlood flood-opacity="0" result="BackgroundImageFix"/>\\n <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\\n <feOffset dx="1" dy="11"/>\\n <feGaussianBlur stdDeviation="9.8"/>\\n <feComposite in2="hardAlpha" operator="out"/>\\n <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>\\n <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_19"/>\\n <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_19" result="shape"/>\\n </filter>\\n <filter id="filter1_d_1_19" x="46.4" y="46.4" width="310.2" height="310.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\\n <feFlood flood-opacity="0" result="BackgroundImageFix"/>\\n <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\\n <feOffset dx="1" dy="11"/>\\n <feGaussianBlur stdDeviation="9.8"/>\\n <feComposite in2="hardAlpha" operator="out"/>\\n <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>\\n <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_19"/>\\n <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_19" result="shape"/>\\n </filter>\\n <linearGradient id="paint0_linear_1_19" x1="78.7712" y1="51.9816" x2="324.572" y2="313.9" gradientUnits="userSpaceOnUse">\\n <stop stop-color="#35CD9C"/>\\n <stop offset="0.465" stop-color="#43FFFC"/>\\n <stop offset="0.545" stop-color="#C2F6F9"/>\\n <stop offset="1" stop-color="#33BFF1"/>\\n </linearGradient>\\n <linearGradient id="paint1_linear_1_19" x1="109.5" y1="87" x2="292.5" y2="282" gradientUnits="userSpaceOnUse">\\n <stop stop-color="#35CD9C"/>\\n <stop offset="0.465" stop-color="#43FFFC"/>\\n <stop offset="0.545" stop-color="#C2F6F9"/>\\n <stop offset="1" stop-color="#33BFF1"/>\\n </linearGradient>\\n </defs>\\n </svg>\\n <h2 id="uw-a11y-title">Pinpoint Accessibility Checker</h2>\\n </div>\\n <button id="uw-a11y-close">‚úï</button>\\n </div>\\n <div id="uw-a11y-content">\\n <div style="text-align: center; padding: 2rem;">\\n <div class="uw-a11y-spinner"></div>\\n <p style="margin-top: 1rem;">Loading axe-core accessibility engine...</p>\\n <p style="font-size: 0.9rem; color: #666;">This may take a few seconds on first use.</p>\\n </div>\\n </div>\\n </div>\\n \`,this.shadowRoot.getElementById("uw-a11y-close").onclick=()=>this.remove()},loadAxeCore:function(){if(window.axe)return this.axeLoaded=!0,void this.runAxeChecks();const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/axe-core@4.10.3/axe.min.js",e.onload=()=>{this.axeLoaded=!0,this.runAxeChecks()},e.onerror=()=>{this.showError("Failed to load axe-core. Please check your internet connection and try again.")},document.head.appendChild(e)},runAxeChecks:function(){if(!window.axe)return void this.showError("axe-core failed to load properly.");const{wcagSpec:e,wcagLevel:n}=this.getSelectedWcag(),t=this.buildWcagTags(e,n),i={rules:{region:{enabled:!1},"color-contrast-enhanced":{enabled:"AAA"===(n||"").toUpperCase()}},runOnly:{type:"tag",values:t}},a={exclude:this.getEffectiveExcludeSelectors()};window.axe.run(a,i,(e,n)=>{if(e)this.showError("Error running accessibility analysis: "+e.message);else{this.processAxeResults(n);try{this.isBestPracticesEnabled()&&this.runBestPracticeChecks()}catch(e){console.warn("Best-practices scan failed:",e)}this.displayResults()}})},runBestPracticeChecks:function(){const e=e=>{if(!e)return"";const n=e.getAttribute&&e.getAttribute("aria-label");if(n&&n.trim())return n.trim();const t=e.getAttribute&&e.getAttribute("aria-labelledby");if(t){const e=t.split(/\\s+/).map(e=>{const n=document.getElementById(e);return n?(n.innerText||n.textContent||"").trim():""}).join(" ").trim();if(e)return e}const i=e.querySelector&&e.querySelector("img[alt]");if(i&&i.getAttribute("alt")&&i.getAttribute("alt").trim())return i.getAttribute("alt").trim();if("INPUT"===e.tagName){const n=(e.getAttribute("type")||"").toLowerCase(),t=e.getAttribute("value");if(t&&t.trim()&&["button","submit","reset"].includes(n))return t.trim()}return(e.innerText||e.textContent||"").replace(/\\s+/g," ").trim()},n=e=>{try{if(!(e&&e instanceof Element))return!1;if(e.hidden)return!1;const n=window.getComputedStyle(e);return!(!n||"none"===n.display||"hidden"===n.visibility||0===parseFloat(n.opacity))&&((!e.closest||!e.closest("#uw-a11y-container"))&&(!this.shouldExcludeElement||!this.shouldExcludeElement(e)))}catch(e){return!0}},t=["click here","here","learn more","read more","more","details","this","this link","continue","link","info"],i=Array.from(document.querySelectorAll("a[href]"));i.forEach(i=>{if(!n(i))return;const a=e(i).toLowerCase();if(!a)return;t.includes(a)&&this.addIssue("info","Best Practice: Use contextual link text",\`The link text "\${a}" is not descriptive out of context.\`,i,"Use meaningful, specific link text that communicates the destination or action. For example, instead of <code>click here</code>, use <code>Download annual report (PDF)</code> or <code>Read more about financial aid</code>. You can also add context with <code>aria-label</code> when needed.","https://www.w3.org/WAI/GL/UNDERSTANDING-WCAG20/navigation-mechanisms-meaningful-sequence.html","minor",["best-practice","links"],[{label:"Detected Text",value:a},{label:"Href",value:i.getAttribute("href")||""}],"bp-contextual-link-text")});const a=new Map;i.forEach(i=>{if(!n(i))return;const o=e(i).toLowerCase();if(!t.includes(o))return;const s=(i.getAttribute("href")||"").trim();a.has(o)||a.set(o,new Set),a.get(o).add(s)}),a.forEach((n,a)=>{if(n.size>1){const o=i.filter(n=>t.includes(e(n).toLowerCase())).slice(0,3).map(n=>({text:e(n),href:n.getAttribute("href")||""}));this.addIssue("info","Best Practice: Avoid repeated generic links",\`Found multiple "\${a}" links pointing to different destinations.\`,null,"Provide unique, contextual link text for each destination. For example, replace repeated <code>Read more</code> with <code>Read more about scholarships</code>, <code>Read more about housing</code>, etc.","https://www.w3.org/WAI/tutorials/page-structure/links/","minor",["best-practice","links"],[{label:"Link Text",value:a},{label:"Unique Destinations",value:Array.from(n).join(", ")},{label:"Examples (first 3)",value:o.map(e=>\`\${e.text} ‚Üí \${e.href}\`).join(" | ")}],"bp-duplicate-generic-links")}}),i.forEach(t=>{if(!n(t))return;const i=t.getAttribute("target");if(i&&"_blank"===i.toLowerCase()){const n=e(t),i=n.toLowerCase(),a=i.includes("opens in new tab")||i.includes("opens in a new tab")||i.includes("(new tab)"),o=(t.getAttribute("rel")||"").toLowerCase(),s=o.includes("noopener"),r=o.includes("noreferrer");if(!a||!s||!r){const e=[];a||e.push('Inform users the link opens in a new tab/window (e.g., include visually hidden text like <code><span class="sr-only">(opens in new tab)</span></code> or add to <code>aria-label</code>).'),s&&r||e.push('Add <code>rel="noopener noreferrer"</code> for security and privacy.'),this.addIssue("info","Best Practice: Communicate new-tab behavior","Link opens in a new tab/window but may not communicate this behavior or include recommended rel attributes.",t,e.join(" "),"https://www.w3.org/TR/WCAG20-TECHS/G201.html","minor",["best-practice","links"],[{label:"Text",value:n},{label:"Href",value:t.getAttribute("href")||""},{label:"Has rel",value:o||"(none)"}],"bp-new-tab-communication")}}});const o=Array.from(document.querySelectorAll("input, textarea, select")).filter(e=>"hidden"!==(e.getAttribute("type")||"").toLowerCase());o.forEach(e=>{if(!n(e))return;e.hasAttribute("placeholder")&&e.getAttribute("placeholder").trim()&&!(e=>{if(!(e&&e instanceof Element))return!1;if(e.closest("label"))return!0;const n=e.getAttribute("id");if(n&&document.querySelector(\`label[for="\${CSS.escape(n)}"]\`))return!0;if(e.hasAttribute("aria-label")&&e.getAttribute("aria-label").trim())return!0;if(e.hasAttribute("aria-labelledby")&&e.getAttribute("aria-labelledby").split(/\\s+/).map(e=>document.getElementById(e)).filter(Boolean).map(e=>(e.innerText||e.textContent||"").trim()).join(" ").trim())return!0;return!1})(e)&&this.addIssue("info","Best Practice: Don't rely on placeholder as label","This form control appears to rely on placeholder text instead of a persistent label.",e,"Provide a visible, persistent <code><label></code> or an accessible name via <code>aria-label</code>/<code>aria-labelledby</code>. Placeholders should be hints, not primary labels, because they disappear on input and can reduce readability.","https://www.w3.org/WAI/tutorials/forms/labels/","minor",["best-practice","forms"],[{label:"Control",value:e.tagName.toLowerCase()+(e.getAttribute("type")?\` [type=\${e.getAttribute("type")}]\`:"")},{label:"Placeholder",value:e.getAttribute("placeholder")||""}],"bp-placeholder-only-label")});const s=Array.from(document.querySelectorAll('button, input[type="button"], input[type="submit"], input[type="reset"], a[role="button"]')),r=["submit","go","more","learn more","read more","click here","ok","yes","no","continue","next","previous","prev","send"];s.forEach(t=>{if(!n(t))return;const i=e(t).trim();i&&r.includes(i.toLowerCase())&&this.addIssue("info","Best Practice: Make button text specific",\`The button label "\${i}" is generic and may be unclear.\`,t,"Use specific labels that describe the action, e.g., <code>Submit application</code>, <code>Search site</code>, or <code>Download report</code>.","https://www.w3.org/WAI/tutorials/forms/labels/#hints-and-instructions","minor",["best-practice","buttons"],[{label:"Detected Text",value:i}],"bp-generic-button-text")});Array.from(document.querySelectorAll("video[autoplay], audio[autoplay]")).forEach(e=>{if(!n(e))return;const t=e.hasAttribute("controls"),i=e.hasAttribute("muted"),a=e.tagName.toLowerCase(),o=[];t||o.push("Add <code>controls</code> so users can pause/stop."),i||"VIDEO"!==e.tagName||o.push("Avoid autoplay with sound; consider starting paused or muted."),o.push("Respect user preference with <code>@media (prefers-reduced-motion: reduce)</code> and avoid distracting motion."),this.addIssue("info","Best Practice: Avoid autoplay without clear controls",\`\${a} element autoplays. Autoplay can be disorienting and should generally be avoided.\`,e,o.join(" "),"https://www.w3.org/WAI/WCAG21/Techniques/general/G19","minor",["best-practice","media"],[{label:"Element",value:\`<\${a}>\`},{label:"Controls",value:t?"present":"missing"}],"bp-media-autoplay")});Array.from(document.querySelectorAll("marquee, blink")).forEach(e=>{n(e)&&this.addIssue("info","Best Practice: Avoid marquee/blink effects","Elements using marquee/blink effects can be distracting and hard to read.",e,"Replace with non-moving alternatives or provide user controls and respect <code>prefers-reduced-motion</code>.","https://www.w3.org/WAI/WCAG21/Understanding/pause-stop-hide.html","minor",["best-practice","motion"],[],"bp-marquee-blink")});try{const e=Array.from(document.querySelectorAll("*"));e.length>2500||e.forEach(e=>{if(!n(e))return;const t=getComputedStyle(e);if(!t)return;const i=(t.animationDuration||"").split(",").map(e=>(e||"").trim()),a=(t.animationIterationCount||"").split(",").map(e=>(e||"").trim()),o=(t.animationPlayState||"").split(",").some(e=>"running"===e.trim()),s=i.some(e=>e&&"0s"!==e&&"0ms"!==e),r=a.some(e=>"infinite"===e);o&&s&&r&&this.addIssue("info","Best Practice: Provide motion alternatives","Detected an element with continuous animation.",e,"Offer a way to pause/stop animation and respect <code>prefers-reduced-motion</code> to reduce or remove motion for users who prefer it.","https://www.w3.org/WAI/WCAG21/Understanding/animation-from-interactions.html","minor",["best-practice","motion"],[],"bp-infinite-animation")})}catch(e){}const l=[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".zip"];i.forEach(t=>{if(!n(t))return;const i=(t.getAttribute("href")||"").toLowerCase(),a=e(t).toLowerCase(),o=l.find(e=>i.endsWith(e));o&&a&&!a.includes(o.replace(".",""))&&this.addIssue("info","Best Practice: Indicate file type in link",\`This link points to a \${o.toUpperCase()} file, but the link text may not indicate the file type.\`,t,"Include the file type (and optionally size) in the link text, e.g., <code>Annual Report (PDF)</code>.","https://www.w3.org/WAI/tips/writing/#inform-users-about-what-to-expect","minor",["best-practice","links"],[{label:"Href",value:i}],"bp-filetype-link-label")})},processAxeResults:function(e){this.issues=[],this.loadCheckedItems(),e.violations.forEach(e=>{e.nodes.forEach(n=>{this.isOwnUIElement(n)||this.addIssue("error",e.description,this.buildDescription(e,n),this.getElementFromNode(n),this.buildRecommendation(e,n,"error"),e.helpUrl,e.impact||"serious",e.tags,this.buildDetailedInfo(e,n),e.id)})}),e.incomplete.forEach((e,n)=>{e.nodes.forEach((t,i)=>{if(this.isOwnUIElement(t))return;const a=\`incomplete-\${n}-\${i}\`;this.addIssue("warning",e.description,"Manual review needed: "+this.buildDescription(e,t),this.getElementFromNode(t),this.buildRecommendation(e,t,"warning"),e.helpUrl,e.impact||"moderate",e.tags,this.buildDetailedInfo(e,t),e.id),this.issues[this.issues.length-1].uniqueId=a})}),this.originalAxeResults=e;const n={...e,violations:e.violations.map(e=>({...e,nodes:e.nodes.filter(e=>!this.isOwnUIElement(e))})).filter(e=>e.nodes.length>0),incomplete:e.incomplete.map(e=>({...e,nodes:e.nodes.filter(e=>!this.isOwnUIElement(e))})).filter(e=>e.nodes.length>0)};this.axeResults={url:e.url,timestamp:e.timestamp,toolOptions:e.toolOptions,violations:n.violations.length,passes:e.passes.length,incomplete:n.incomplete.length,inapplicable:e.inapplicable.length,score:this.calculateAccessibilityScore(n)},this.filteredAxeResults=n},buildDescription:function(e,n){let t=e.help||e.description;return n.failureSummary&&(t+="\\n\\nDetails: "+n.failureSummary),n.html&&(t+="\\n\\nElement: "+n.html.substring(0,100),n.html.length>100&&(t+="...")),t},buildRecommendation:function(e,n,t="error"){const i=e.id;let a="";if("warning"===t){const t=this.getManualReviewRecommendations();if(t[i]){const o=t[i];a="function"==typeof o?o(n,e):o}else{a=(0,t.default)(n,e)}}else{const t=this.getActionableRecommendations();if(t[i]){const o=t[i];a="function"==typeof o?o(n,e):o}else a=e.help||"Please refer to the help documentation for specific guidance on fixing this issue."}return this.formatRecommendation(a)},formatRecommendation:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},escapeHtmlAttribute:function(e){return e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},escapeHtmlContent:function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},sanitizeHtmlId:function(e){return e?e.replace(/[^a-zA-Z0-9\\-_:.]/g,"-"):""},escapeJavaScript:function(e){return e?e.replace(/\\\\/g,"\\\\\\\\").replace(/'/g,"\\\\'").replace(/"/g,'\\\\"').replace(/\\n/g,"\\\\n").replace(/\\r/g,"\\\\r").replace(/\\t/g,"\\\\t"):""},escapeUrl:function(e){if(!e)return"";try{const n=new URL(e);return"http:"!==n.protocol&&"https:"!==n.protocol?"":this.escapeHtmlAttribute(e)}catch(e){return""}},getManualReviewRecommendations:function(){return{"color-contrast":()=>"Manually verify the contrast meets WCAG standards. Use a contrast checker tool or browser extension to measure the exact ratio. For normal text, ensure at least 4.5:1 ratio; for large text (18pt+ or 14pt+ bold), ensure at least 3:1 ratio.","color-contrast-enhanced":()=>"Check if enhanced AAA contrast is needed for this content. Verify if 7:1 ratio for normal text or 4.5:1 for large text is required based on your accessibility requirements.","audio-caption":()=>"Listen to the audio content and verify: 1) Does it contain speech or important audio information? 2) Are captions or transcripts provided if needed? 3) Are any captions accurate and properly synchronized?","video-caption":()=>"Watch the video content and verify: 1) Does it contain speech or important audio? 2) Are captions provided for all speech and sound effects? 3) Are captions accurate, synchronized, and properly formatted?","link-in-text-block":()=>"Check if this link is distinguishable from surrounding text without relying on color alone. Verify there are visual indicators like underlines, different font weight, or other styling that works for colorblind users.","identical-links-same-purpose":()=>"Review these links with identical text and verify they serve the same purpose or lead to the same destination. If they serve different purposes, make the link text more descriptive to differentiate them.","hidden-content":()=>"Verify this hidden content is appropriately hidden and still accessible to screen readers when needed. Check that important information isn't hidden from all users unintentionally.","aria-hidden-focus":()=>'Check if this focusable element with aria-hidden="true" is intentionally hidden from screen readers. Verify this doesn\\'t hide important interactive content from assistive technologies.',"nested-interactive":()=>"Test this interactive element with keyboard navigation and screen readers. Verify all functionality is accessible and the focus order makes sense to users.","landmark-unique":()=>"Review if multiple landmarks of the same type need distinguishing labels. Consider adding aria-label or aria-labelledby if users would benefit from clearer landmark identification.","heading-structure":()=>"Review the heading structure for logical flow. Verify headings accurately describe the content hierarchy and help users navigate and understand the page structure.",default:()=>"Manually verify this element meets accessibility requirements. Review the content, test with assistive technologies if possible, and ensure it provides equivalent access for all users."}},getActionableRecommendations:function(){return{"image-alt":e=>{const n=this.getElementFromNode(e);return n&&"IMG"===n.tagName?n.src&&n.src.includes("decorative")||"presentation"===n.getAttribute("role")?'Add alt="" for decorative images, or add role="presentation" if the image is purely decorative.':'Add descriptive alt text: <img src="..." alt="Brief description...">. Describe the content and function, not just "image of..."':"Add appropriate alt text describing the image content and purpose."},"image-redundant-alt":'Remove redundant words like "image of", "picture of", "graphic of" from alt text. Just describe what the image shows: alt="Red sports car" instead of alt="Image of a red sports car"',label:e=>{const n=this.getElementFromNode(e);if(n){const e=n.id||"unique-id",t=n.type||"text";return\`Add a label: <label for="\${e}">Field Name</label><input type="\${t}" id="\${e}"> OR use aria-label: <input type="\${t}" aria-label="Field Name">\`}return"Associate each form control with a descriptive label using <label> or aria-label."},"button-name":e=>{const n=this.getElementFromNode(e);return n?""===n.innerHTML.trim()?'Add text content inside the button: <button>Submit Form</button> OR add aria-label: <button aria-label="Submit form">üëç</button>':"Ensure button has accessible text via text content, aria-label, or aria-labelledby.":"Buttons need accessible names - add text content or aria-label."},"duplicate-id":"Make each ID unique. Find duplicate IDs in your HTML and rename them. Each ID must be used only once per page.","color-contrast":e=>{const n=this.extractColorContrastInfo(e);return n?\`Current contrast is \${n.contrast} or may be difficult to determine due to the use of a gradient or image background. WCAG AA requires 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold).\`:"Improve text contrast ratio. Use darker text on light backgrounds or lighter text on dark backgrounds."},"link-name":'Make link text descriptive. Instead of "click here" or "read more", use "Download annual report" or "Read more about accessibility testing". The link text should make sense out of context.',"link-in-text-block":"Links in text need visual distinction beyond color alone. Add underlines, bold text, or other visual indicators that work for colorblind users.","heading-order":e=>{const n=this.getElementFromNode(e);if(n){const e=parseInt(n.tagName.charAt(1));return\`Fix heading sequence - don't skip levels. After H\${e-2}, use H\${e-1}, not H\${e}. Structure should be H1‚ÜíH2‚ÜíH3, not H1‚ÜíH3.\`}return"Use headings in sequential order (H1, H2, H3...) without skipping levels. Think of headings as a document outline."},"empty-heading":"Add meaningful text inside headings. Remove empty headings or add descriptive content: <h2>Our Services</h2>","aria-allowed-attr":"Remove unsupported ARIA attributes from this element type. Check the ARIA specification for which attributes are valid for each element.","aria-required-attr":'Add required ARIA attributes. For example, role="button" needs aria-label or text content. Check ARIA patterns for required attributes.',"aria-valid-attr-value":'Fix ARIA attribute values. Use valid values like aria-expanded="true" or "false", not "yes" or other invalid values.',"button-name":"Add accessible name to button using text content, aria-label, or aria-labelledby.","table-fake-caption":"Use proper <caption> element instead of fake caption. Move the caption text inside: <table><caption>Sales Data 2024</caption><tr>...</table>","td-headers-attr":'Add headers attribute to complex table cells: <td headers="row1 col2">Data</td> where "row1 col2" are IDs of header cells.',"th-has-data-cells":"Ensure table headers (th) actually relate to data cells. Remove empty or irrelevant header cells.",region:'Add landmark regions using HTML5 elements: <main>, <nav>, <aside>, <header>, <footer>. OR use ARIA: <div role="main">, <div role="navigation">.',"page-has-heading-one":"Add exactly one H1 heading per page. The H1 should describe the main content: <h1>Page Title</h1>","landmark-one-main":'Add one <main> element per page: <main>\\x3c!-- main content here --\\x3e</main> OR <div role="main">',list:"Use proper list markup. Wrap list items in <ul> or <ol>: <ul><li>Item 1</li><li>Item 2</li></ul>","definition-list":"Use proper definition list structure: <dl><dt>Term</dt><dd>Definition</dd></dl>","focus-order-semantics":"Use semantic HTML elements (button, a, input) instead of div/span with click handlers. This ensures proper keyboard focus order.",tabindex:'Remove positive tabindex values (tabindex="1", "2", etc). Use tabindex="0" to make elements focusable or tabindex="-1" to remove from tab order.',"html-has-lang":'Add language attribute to html element: <html lang="en"> or <html lang="es"> for Spanish, etc.',"html-lang-valid":'Use valid language code. Examples: "en" for English, "es" for Spanish, "fr" for French. Use format like "en-US" for regional variants.',"audio-caption":"Add captions to audio content using <track> element with captions file, or provide transcript nearby.","video-caption":'Add captions: <video><track kind="captions" src="captions.vtt" srclang="en" label="English"></video>',"meta-refresh":'Remove auto-refresh meta tags. Use JavaScript with user control: <button onclick="refresh()">Refresh Page</button>',"meta-viewport":'Add viewport meta tag: <meta name="viewport" content="width=device-width, initial-scale=1.0">',"duplicate-id-active":"Remove duplicate IDs from interactive elements. Each ID must be unique across the entire page.","duplicate-id-aria":"Fix duplicate IDs used in ARIA relationships (aria-labelledby, aria-describedby). Each referenced ID must be unique.","frame-title":'Add descriptive title to iframe: <iframe title="Customer feedback form" src="..."></iframe>',"object-alt":'Add alternative text to object elements: <object data="chart.svg" type="image/svg+xml">Sales chart showing 20% increase</object>',"scope-attr-valid":'Use valid scope attribute values on table headers: scope="col" for column headers, scope="row" for row headers.',"skip-link":'Add skip navigation link at page start: <a href="#main" class="skip-link">Skip to main content</a>',"css-orientation-lock":"Don't lock orientation in CSS. Remove or modify CSS that prevents rotation: transform: rotate() or orientation locks."}},getElementFromNode:function(e){if(e.target&&e.target.length>0)try{return document.querySelector(e.target[0])}catch(e){return null}return null},isOwnUIElement:function(e){if(e.target&&e.target[0]){const n=e.target[0];if(n.includes("#uw-a11y-container")||n.includes("#uw-a11y-panel")||n.includes("uw-a11y-"))return!0}if(e.html&&(e.html.includes("uw-a11y-")||e.html.includes('id="uw-a11y-')||e.html.includes('class="uw-a11y-')||e.html.includes("Loading axe-core")||e.html.includes("Pinpoint Accessibility Checker")))return!0;const n=this.getElementFromNode(e);if(n){const e=document.getElementById("uw-a11y-container"),t=document.getElementById("uw-a11y-panel");if(e&&(n===e||e.contains(n)))return!0;if(t&&(n===t||t.contains(n)))return!0;if(n.className&&"string"==typeof n.className&&n.className.includes("uw-a11y-"))return!0;if(n.id&&n.id.includes("uw-a11y-"))return!0;if(n.getRootNode&&n.getRootNode()!==document){const e=n.getRootNode();if(e.host&&"uw-a11y-container"===e.host.id)return!0}}return!1},buildDetailedInfo:function(e,n){const t=[];if(n.html){t.push({type:"html",label:"HTML Source",value:n.html});const e=this.estimateLineNumber(n.html);e>0&&t.push({type:"line",label:"Approximate Line",value:e})}if(n.target&&n.target[0]&&t.push({type:"selector",label:"CSS Selector",value:n.target[0]}),"color-contrast"===e.id){const e=this.extractColorContrastInfo(n);e&&t.push({type:"colors",label:"Color Information",value:e})}if((e.id.includes("landmark")||e.id.includes("region"))&&t.push({type:"landmarks",label:"Landmark Context",value:this.analyzeLandmarkContext(n)}),e.id.includes("heading")&&t.push({type:"headings",label:"Heading Structure",value:this.analyzeHeadingStructure(n)}),n.failureSummary&&t.push({type:"failure",label:"Technical Details",value:n.failureSummary}),n.any&&n.any.length>0){const e=n.any.map(e=>e.message||e.id).filter(Boolean);e.length>0&&t.push({type:"checks",label:"Failed Checks",value:e.join(", ")})}return t},estimateLineNumber:function(e){try{const n=document.documentElement.outerHTML,t=n.indexOf(e.substring(0,50));if(t>-1){return n.substring(0,t).split("\\n").length}}catch(e){}return 0},extractColorContrastInfo:function(e){try{const n=this.getElementFromNode(e);if(!n)return null;const t=window.getComputedStyle(n);let i=t.color,a=t.backgroundColor;if(!a||"transparent"===a||"rgba(0, 0, 0, 0)"===a||a.includes("rgba(0, 0, 0, 0)")){let e=n.parentElement;for(;e&&e!==document.body;){const n=window.getComputedStyle(e).backgroundColor;if(n&&"transparent"!==n&&"rgba(0, 0, 0, 0)"!==n&&!n.includes("rgba(0, 0, 0, 0)")){a=n;break}e=e.parentElement}a&&"transparent"!==a&&"rgba(0, 0, 0, 0)"!==a&&!a.includes("rgba(0, 0, 0, 0)")||(a="#ffffff")}const o=this.calculateContrastRatio(i,a);return{foreground:i,background:a,contrast:o?o.toFixed(2)+":1":"Unable to calculate",required:"WCAG AA requires 4.5:1 for normal text, 3:1 for large text"}}catch(e){return console.warn("Error extracting color contrast info:",e),null}},calculateContrastRatio:function(e,n){try{const t=this.getLuminance(e),i=this.getLuminance(n);if(null===t||null===i)return console.warn("Could not calculate luminance for colors:",e,n),null;const a=Math.max(t,i),o=(a+.05)/(Math.min(t,i)+.05);return isNaN(o)||!isFinite(o)?(console.warn("Invalid contrast ratio calculated for colors:",e,n),null):o}catch(e){return console.warn("Error calculating contrast ratio:",e),null}},getLuminance:function(e){try{let n,t,i;if(e.startsWith("#")){const a=e.slice(1);if(3===a.length)n=parseInt(a[0]+a[0],16),t=parseInt(a[1]+a[1],16),i=parseInt(a[2]+a[2],16);else{if(6!==a.length)return null;n=parseInt(a.slice(0,2),16),t=parseInt(a.slice(2,4),16),i=parseInt(a.slice(4,6),16)}}else if(e.startsWith("rgb")){const a=e.match(/\\d+/g);if(!a||3>a.length)return null;n=parseInt(a[0]),t=parseInt(a[1]),i=parseInt(a[2])}else{const a={white:[255,255,255],black:[0,0,0],red:[255,0,0],green:[0,128,0],blue:[0,0,255],yellow:[255,255,0],cyan:[0,255,255],magenta:[255,0,255],silver:[192,192,192],gray:[128,128,128],grey:[128,128,128]},o=e.toLowerCase().trim();if(!a[o])return null;[n,t,i]=a[o]}const a=e=>(e/=255)>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92,o=a(n),s=a(t);return.2126*o+.7152*s+.0722*a(i)}catch(n){return console.warn("Error calculating luminance for color:",e,n),null}},analyzeLandmarkContext:function(e){try{const n=this.getElementFromNode(e);if(!n)return"Element not found";return\`Found \${document.querySelectorAll('main, nav, header, footer, aside, section[aria-label], section[aria-labelledby], [role="banner"], [role="navigation"], [role="main"], [role="contentinfo"], [role="complementary"]').length} landmarks on page. Current element: \${n.tagName.toLowerCase()}\${n.getAttribute("role")?' (role="'+n.getAttribute("role")+'")':""}\`}catch(e){return"Unable to analyze landmark context"}},analyzeHeadingStructure:function(e){try{const n=this.getElementFromNode(e);if(!n)return"Element not found";const t=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")),i=t.indexOf(n),a=parseInt(n.tagName.charAt(1));let o=\`Current: \${n.tagName} "\${n.textContent.substring(0,50)}"\`;if(i>0){const e=t[i-1],n=parseInt(e.tagName.charAt(1));o+=\`\\nPrevious: \${e.tagName} (level \${n})\`,a>n+1&&(o+=\`\\nIssue: Skipped from H\${n} to H\${a}\`)}return o}catch(e){return"Unable to analyze heading structure"}},calculateAccessibilityScore:function(e){const n={critical:10,serious:7,moderate:3,minor:1};let t=0,i=e.passes.length+e.violations.length+e.incomplete.length;e.violations.forEach(e=>{t+=e.nodes.length*(n[e.impact]||n.moderate)});let a=0,o=0,s=0;if(e.incomplete.forEach((e,t)=>{e.nodes.forEach((i,r)=>{o++;const l=\`incomplete-\${t}-\${r}\`,c=this.isRuleVerified(e.id);if(this.checkedItems&&this.checkedItems.has(l)||c)s++;else{a+=.5*(n[e.impact]||n.moderate)}})}),t+=a,0===i)return{score:100,deductions:0,maxPossible:0,verifiedCount:0,totalManualReview:0};if(0===t)return{score:100,deductions:0,maxPossible:i*n.critical,verifiedCount:s,totalManualReview:o,details:{violations:e.violations.length,incomplete:e.incomplete.length,passes:e.passes.length}};const r=i*n.critical;return{score:Math.max(0,Math.round(100-t/r*100)),deductions:t,maxPossible:r,verifiedCount:s,totalManualReview:o,details:{violations:e.violations.length,incomplete:e.incomplete.length,passes:e.passes.length}}},showError:function(e){const n=document.getElementById("uw-a11y-panel");if(n){n.querySelector("#uw-a11y-content").innerHTML=\`\\n <div class="uw-a11y-issue error" style="margin: 1rem;">\\n <h4>Error Loading Accessibility Checker</h4>\\n <p>\${e}</p>\\n <p><strong>Suggestions:</strong></p>\\n <ul>\\n <li>Check your internet connection</li>\\n <li>Try refreshing the page and running the bookmarklet again</li>\\n <li>Ensure your browser allows loading external scripts</li>\\n </ul>\\n </div>\\n \`}},createPanel:function(){return this.shadowRoot.innerHTML=\`\\n \${this.getStyles()}\\n <div id="uw-a11y-wrapper">\\n <div id="uw-a11y-nav">\\n <nav>\\n <ul>\\n <li>\\n <a id="uw-a11y-nav-results" href="#uw-a11y-view-results" title="Results">\\n <svg class="uw-a11y-nav-icon" viewBox="0 0 24 24" aria-hidden="true">\\n <path fill="currentColor" d="M3 13h6v8H3v-8zm12-10h6v18h-6V3zM9 3h6v12H9V3z"/>\\n </svg>\\n <span class="uw-a11y-nav-label">Results</span>\\n </a>\\n </li>\\n <li>\\n <a id="uw-a11y-nav-settings" href="#uw-a11y-view-settings" title="Settings">\\n <svg class="uw-a11y-nav-icon" viewBox="0 0 24 24" aria-hidden="true">\\n <path fill="currentColor" d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.007 7.007 0 0 0-1.63-.94l-.36-2.54a.5.5 0 0 0-.5-.42h-3.84a.5.5 0 0 0-.5.42l-.36 2.54c-.58.23-1.13.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.67 8.84a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.5.5 0 0 0-.12.64l1.92 3.32c.13.22.39.3.6.22l2.39-.96c.5.4 1.05.72 1.63.94l.36 2.54c.05.24.26.42.5.42h3.84c.24 0 .45-.18.5-.42l.36-2.54c.58-.22 1.13-.54 1.63-.94l2.39.96c.22.08.47 0 .6-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58zM12 15.5a3.5 3.5 0 1 1 0-7a3.5 3.5 0 0 1 0 7z"/>\\n </svg>\\n <span class="uw-a11y-nav-label">Settings</span>\\n </a>\\n </li>\\n <li>\\n <a id="uw-a11y-nav-help" href="#uw-a11y-view-help" title="Help">\\n <svg class="uw-a11y-nav-icon" viewBox="0 0 24 24" aria-hidden="true">\\n <path fill="currentColor" d="M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20zm0 17a1.25 1.25 0 1 1 0-2.5A1.25 1.25 0 0 1 12 19zm1.2-5.6v.6h-2v-1c0-1.1.9-2 2-2a1.5 1.5 0 1 0-1.5-1.5H9.7a3.3 3.3 0 1 1 6.6 0c0 1.54-1.16 2.81-2.5 2.9z"/>\\n </svg>\\n <span class="uw-a11y-nav-label">Help</span>\\n </a>\\n </li>\\n <li>\\n <a id="uw-a11y-nav-about" href="#uw-a11y-view-about" title="About">\\n <svg class="uw-a11y-nav-icon" viewBox="0 0 24 24" aria-hidden="true">\\n <path fill="currentColor" d="M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20zm0 7a1.25 1.25 0 1 1 0-2.5A1.25 1.25 0 0 1 12 9zm1.5 7h-3v-1h1v-4h-1v-1h2v5h1v1z"/>\\n </svg>\\n <span class="uw-a11y-nav-label">About</span>\\n </a>\\n </li>\\n </ul>\\n </nav>\\n </div>\\n <div id="uw-a11y-panel" tabindex="-1" role="dialog" aria-labelledby="uw-a11y-title">\\n <div class="accentcolors">\\n <div class="color1"></div>\\n <div class="color2"></div>\\n <div class="color3"></div>\\n </div>\\n <div id="uw-a11y-header">\\n <div class="uw-a11y-title-container">\\n <svg viewBox="0 0 404 404" fill="none" xmlns="http://www.w3.org/2000/svg" class="uw-a11y-logo">\\n <g filter="url(#filter0_d_1_19)">\\n <path fill-rule="evenodd" clip-rule="evenodd" d="M201 349C288.261 349 359 278.261 359 191C359 103.739 288.261 33 201 33C113.739 33 43 103.739 43 191C43 278.261 113.739 349 201 349ZM201 373C301.516 373 383 291.516 383 191C383 90.4842 301.516 9 201 9C100.484 9 19 90.4842 19 191C19 291.516 100.484 373 201 373Z" fill="url(#paint0_linear_1_19)"/>\\n </g>\\n <g filter="url(#filter1_d_1_19)">\\n <path fill-rule="evenodd" clip-rule="evenodd" d="M200.5 302C262.08 302 312 252.08 312 190.5C312 128.92 262.08 79 200.5 79C138.92 79 89 128.92 89 190.5C89 252.08 138.92 302 200.5 302ZM200.5 326C275.335 326 336 265.335 336 190.5C336 115.665 275.335 55 200.5 55C125.665 55 65 115.665 65 190.5C65 265.335 125.665 326 200.5 326Z" fill="url(#paint1_linear_1_19)"/>\\n </g>\\n <defs>\\n <filter id="filter0_d_1_19" x="0.4" y="0.4" width="403.2" height="403.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\\n <feFlood flood-opacity="0" result="BackgroundImageFix"/>\\n <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\\n <feOffset dx="1" dy="11"/>\\n <feGaussianBlur stdDeviation="9.8"/>\\n <feComposite in2="hardAlpha" operator="out"/>\\n <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>\\n <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_19"/>\\n <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_19" result="shape"/>\\n </filter>\\n <filter id="filter1_d_1_19" x="46.4" y="46.4" width="310.2" height="310.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\\n <feFlood flood-opacity="0" result="BackgroundImageFix"/>\\n <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\\n <feOffset dx="1" dy="11"/>\\n <feGaussianBlur stdDeviation="9.8"/>\\n <feComposite in2="hardAlpha" operator="out"/>\\n <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>\\n <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_19"/>\\n <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_19" result="shape"/>\\n </filter>\\n <linearGradient id="paint0_linear_1_19" x1="78.7712" y1="51.9816" x2="324.572" y2="313.9" gradientUnits="userSpaceOnUse">\\n <stop stop-color="#35CD9C"/>\\n <stop offset="0.465" stop-color="#43FFFC"/>\\n <stop offset="0.545" stop-color="#C2F6F9"/>\\n <stop offset="1" stop-color="#33BFF1"/>\\n </linearGradient>\\n <linearGradient id="paint1_linear_1_19" x1="109.5" y1="87" x2="292.5" y2="282" gradientUnits="userSpaceOnUse">\\n <stop stop-color="#35CD9C"/>\\n <stop offset="0.465" stop-color="#43FFFC"/>\\n <stop offset="0.545" stop-color="#C2F6F9"/>\\n <stop offset="1" stop-color="#33BFF1"/>\\n </linearGradient>\\n </defs>\\n </svg>\\n <h2 id="uw-a11y-title">Pinpoint Accessibility Checker</h2>\\n </div>\\n <div class="uw-a11y-header-buttons">\\n <button id="uw-a11y-minimize" title="Minimize">‚àí</button>\\n <button id="uw-a11y-close" title="Close">‚úï</button>\\n </div>\\n </div>\\n <div id="uw-a11y-content">\\n <div id="uw-a11y-view-results" class="uw-a11y-view">\\n <div id="uw-a11y-summary"></div>\\n <p class="if-issues">\\n <div class="mouse-icon"></div>\\n <small>Select any item below to highlight the element on the page.</small>\\n </p>\\n <div id="uw-a11y-results"></div>\\n </div>\\n\\n <div id="uw-a11y-view-about" class="uw-a11y-view" hidden>\\n <div class="uw-a11y-about">\\n <h3>About Pinpoint</h3>\\n <p>Version: <strong>\${this.version}</strong> ¬∑ Engine: axe-core v\${this.getAxeVersion&&this.getAxeVersion()||"unknown"}</p>\\n <p>Pinpoint Accessibility Checker helps quickly find accessibility issues and best-practice improvements, pairing automated results with guidance.</p>\\n <p><a href="https://github.com/althe3rd/Pinpoint" target="_blank" rel="noopener noreferrer">Project on GitHub</a></p>\\n </div>\\n </div>\\n\\n <div id="uw-a11y-view-settings" class="uw-a11y-view" hidden>\\n <div class="uw-a11y-settings">\\n <h3>Settings</h3>\\n <p>Lightweight options will appear here. For now, results filters and checked items persist for this session.</p>\\n </div>\\n </div>\\n\\n <div id="uw-a11y-view-help" class="uw-a11y-view" hidden>\\n <div class="uw-a11y-help">\\n <h3>Help</h3>\\n <ul>\\n <li>Click a result to highlight it on the page.</li>\\n <li>Use the eye icons to filter categories.</li>\\n <li>Open ‚ÄúLearn more‚Äù links for WCAG details.</li>\\n </ul>\\n <p>Need more? Visit the <a href="https://github.com/althe3rd/Pinpoint#readme" target="_blank" rel="noopener noreferrer">documentation</a>.</p>\\n </div>\\n </div>\\n </div>\\n </div>\\n </div>\\n \`,this.shadowRoot.getElementById("uw-a11y-close").onclick=()=>this.remove(),this.shadowRoot.getElementById("uw-a11y-minimize").onclick=()=>this.toggleMinimize(),this.initNavigation(),this.renderSettings(),this.loadGSAP().then(()=>{this.setupInitialHeight(),this.animatePanel(),setTimeout(()=>{this.animateNavigation()},100),this.setupResizeHandler()}),this.shadowRoot.getElementById("uw-a11y-panel")},getStyles:function(){return'<style>\\n :host {\\n all: initial;\\n font-family: "Red Hat Display", "Red Hat Text", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\\n }\\n \\n /* ===== Scrollbar CSS ===== */\\n /* Firefox */\\n * {\\n scrollbar-width: auto;\\n scrollbar-color:rgb(132, 132, 132) rgba(255,255,255,0.0) ;\\n }\\n\\n /* Chrome, Edge, and Safari */\\n *::-webkit-scrollbar {\\n width: 8px;\\n \\n }\\n\\n *::-webkit-scrollbar-track {\\n background: transparent;\\n }\\n\\n *::-webkit-scrollbar-thumb {\\n background-color:rgb(188, 188, 188);\\n border-radius: 10px;\\n \\n }\\n\\n #uw-a11y-wrapper {\\n display: grid;\\n grid-template-columns: 60px 1fr;\\n position: fixed;\\n top: 20px;\\n right: 20px;\\n width: 450px;\\n \\n z-index: 999999;\\n gap: .4rem;\\n background: rgba(0,0,0,0.7);\\n backdrop-filter: blur(20px);\\n padding: 4px;\\n border-radius: 16px;\\n transition: height 0.4s;\\n }\\n\\n #uw-a11y-nav {\\n justify-content: center;\\n color: #fff;\\n\\n }\\n\\n #uw-a11y-nav ul {\\n list-style: none;\\n padding: 0;\\n margin: 0;\\n display: flex;\\n gap: 1rem;\\n display: flex;\\n flex-direction: column;\\n }\\n\\n #uw-a11y-nav ul li {\\n position: relative;\\n }\\n\\n #uw-a11y-nav ul li a {\\n display: block;\\n color: #fff;\\n text-decoration: none;\\n padding: 0.5rem .5rem;\\n border-radius: 12px;\\n transition: background 0.3s ease;\\n font-size: 0.7rem;\\n text-align: center\\n }\\n\\n #uw-a11y-nav ul li a:hover {\\n background: rgba(255, 255, 255, 0.1);\\n }\\n\\n #uw-a11y-nav ul li a.active {\\n background: rgba(255,255,255,0.18);\\n }\\n\\n .uw-a11y-nav-icon {\\n width: 22px;\\n height: 22px;\\n display: block;\\n margin: 0 auto 4px auto;\\n }\\n\\n .uw-a11y-nav-label {\\n display: block;\\n line-height: 1.1;\\n }\\n\\n /* View switching */\\n .uw-a11y-view[hidden] { display: none; }\\n\\n /* Settings styles */\\n .uw-a11y-settings { margin-bottom: 3rem; }\\n .uw-a11y-settings h3 { margin: 0 0 .5rem 0; }\\n .uw-a11y-form-row { margin: .75rem 0; }\\n .uw-a11y-input { width: 80%; padding: 8px 14px; border-radius: 6px; border: 1px solid #cbd3da; font-size: 14px; border-radius: 50rem; }\\n .uw-a11y-helptext { font-size: 12px; color: #555; margin-top: 4px; }\\n .uw-a11y-actions { display: flex; gap: .5rem; margin-top: .75rem; }\\n .uw-a11y-btn { appearance: none; border: 1px solid #b6bcc2; background: #fff; color: #111; padding: 6px 10px; border-radius: 6px; cursor: pointer; font-size: 13px; }\\n .uw-a11y-btn.primary { background: #0d6efd; border-color: #0d6efd; color: #fff; }\\n .uw-a11y-btn:disabled { opacity: .6; cursor: not-allowed; }\\n .uw-a11y-reset-icon { width: 16px; height: 16px; vertical-align: text-bottom; margin-right: 6px; }\\n .uw-a11y-msg { font-size: 12px; margin-top: 6px; }\\n .uw-a11y-msg.ok { color: #155724; }\\n .uw-a11y-msg.err { color: #721c24; }\\n\\n #uw-a11y-panel {\\n \\n background: rgba(239, 239, 239, 0.9);\\n border: 1px solid rgba(255,255,255,0.85);\\n border-radius: 12px;\\n backdrop-filter: blur(12px);\\n box-shadow: 0 8px 32px rgba(0,0,0,0.3);\\n z-index: 999999;\\n font-family: "Red Hat Display", "Red Hat Text", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\\n font-size: 14px;\\n overflow: hidden;\\n transition: all 0.3s ease;\\n outline: none;\\n }\\n \\n #uw-a11y-panel:focus {\\n outline: 3px solid #007cba;\\n outline-offset: 2px;\\n }\\n \\n /* Screen reader only text */\\n .sr-only {\\n position: absolute;\\n width: 1px;\\n height: 1px;\\n padding: 0;\\n margin: -1px;\\n overflow: hidden;\\n clip: rect(0, 0, 0, 0);\\n white-space: nowrap;\\n border: 0;\\n }\\n \\n /* Animated click icon */\\n .uw-a11y-click-icon {\\n display: inline-block;\\n margin-right: 8px;\\n color: #007cba;\\n animation: uw-pulse 2s ease-in-out infinite;\\n vertical-align: middle;\\n }\\n \\n @keyframes uw-pulse {\\n 0% {\\n transform: scale(1);\\n opacity: 1;\\n }\\n 50% {\\n transform: scale(1.1);\\n opacity: 0.8;\\n }\\n 100% {\\n transform: scale(1);\\n opacity: 1;\\n }\\n }\\n\\n #uw-a11y-panel .accentcolors {\\n position: absolute;\\n top: 0;\\n left: 0;\\n width: 100%;\\n height: 100%;\\n z-index: -1;\\n }\\n\\n #uw-a11y-panel .accentcolors .color1 {\\n content: "";\\n position: absolute;\\n top: 0;\\n left: 0;\\n width: 30%;\\n height: 60px;\\n filter: blur(60px);\\n background: rgba(121, 20, 222, 0.6);\\n z-index: -1;\\n }\\n\\n #uw-a11y-panel .accentcolors .color2 {\\n content: "";\\n position: absolute;\\n top: 0;\\n right: 0;\\n width: 30%;\\n height: 50px;\\n filter: blur(60px);\\n background: rgba(52, 126, 223, 0.6);\\n z-index: -1;\\n }\\n\\n #uw-a11y-panel .accentcolors .color3 {\\n content: "";\\n position: absolute;\\n top: 0;\\n left: 30%;\\n width: 40%;\\n height: 20px;\\n filter: blur(60px);\\n background: rgba(23, 72, 248, 0.6);\\n z-index: -1;\\n }\\n\\n \\n #uw-a11y-panel.minimized {\\n bottom: -1px;\\n top: auto;\\n right: 20px;\\n width: 400px;\\n max-height: 180px;\\n border-radius: 8px 8px 0 0;\\n }\\n\\n .violationtype {\\n margin-bottom: 0.5rem;\\n display: flex;\\n align-items: center;\\n justify-content: space-between;\\n }\\n #uw-a11y-panel .info-with-tooltip {\\n display: inline-flex;\\n align-items: center;\\n gap: 6px;\\n position: relative;\\n }\\n #uw-a11y-panel .info-btn {\\n background: white;\\n border: 1px solid rgba(0,0,0,0.2);\\n color: #333;\\n width: 18px;\\n height: 18px;\\n border-radius: 50%;\\n display: inline-flex;\\n align-items: center;\\n justify-content: center;\\n font-size: 12px;\\n line-height: 1;\\n cursor: pointer;\\n padding: 0;\\n }\\n #uw-a11y-panel .info-btn:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n }\\n #uw-a11y-panel .tooltip {\\n position: absolute;\\n left: 0;\\n top: 140%;\\n background: #212529;\\n color: #fff;\\n padding: 6px 8px;\\n border-radius: 4px;\\n font-size: 12px;\\n max-width: 260px;\\n box-shadow: 0 4px 10px rgba(0,0,0,0.15);\\n opacity: 0;\\n visibility: hidden;\\n transition: opacity 0.15s ease;\\n z-index: 10;\\n }\\n #uw-a11y-panel .info-btn:hover + .tooltip,\\n #uw-a11y-panel .info-btn:focus + .tooltip {\\n opacity: 1;\\n visibility: visible;\\n }\\n\\n \\n \\n #uw-a11y-panel.minimized #uw-a11y-content {\\n max-height: 120px;\\n padding: 8px 16px;\\n display: none;\\n }\\n \\n #uw-a11y-panel.minimized #uw-a11y-results {\\n display: none;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-container {\\n margin: 0.5rem 0;\\n padding: 0.5rem;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-dial {\\n width: 60px;\\n height: 60px;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-circle {\\n width: 60px;\\n height: 60px;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-inner {\\n width: 45px;\\n height: 45px;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-number {\\n font-size: 16px;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-score-label {\\n font-size: 8px;\\n }\\n \\n #uw-a11y-panel.minimized h3 {\\n font-size: 14px;\\n margin-bottom: 0.5rem;\\n }\\n \\n #uw-a11y-panel.minimized #uw-a11y-minimize {\\n transform: rotate(180deg);\\n }\\n #uw-a11y-panel #uw-a11y-header {\\n \\n color: #000;\\n padding: 12px 16px;\\n display: flex;\\n justify-content: space-between;\\n align-items: center;\\n cursor: default;\\n }\\n \\n #uw-a11y-panel #uw-a11y-header:active {\\n \\n }\\n \\n #uw-a11y-panel .uw-a11y-header-buttons {\\n display: flex;\\n gap: 8px;\\n }\\n #uw-a11y-panel .uw-a11y-title-container {\\n display: flex;\\n align-items: center;\\n gap: 8px;\\n }\\n \\n #uw-a11y-panel .uw-a11y-logo {\\n width: 24px;\\n height: 24px;\\n flex-shrink: 0;\\n }\\n \\n #uw-a11y-panel.minimized .uw-a11y-logo {\\n width: 18px;\\n height: 18px;\\n }\\n \\n #uw-a11y-panel #uw-a11y-header h2 {\\n margin: 0;\\n font-size: 16px;\\n font-weight: bold;\\n }\\n #uw-a11y-panel #uw-a11y-close, #uw-a11y-panel #uw-a11y-minimize {\\n background: none;\\n border: none;\\n color: black;\\n font-size: 18px;\\n cursor: pointer;\\n padding: 0;\\n width: 24px;\\n height: 24px;\\n border-radius: 50%;\\n display: flex;\\n align-items: center;\\n justify-content: center;\\n transition: all 0.2s ease;\\n }\\n \\n #uw-a11y-panel #uw-a11y-close:hover, #uw-a11y-panel #uw-a11y-minimize:hover {\\n background: rgba(255,255,255,0.2);\\n }\\n \\n #uw-a11y-panel #uw-a11y-close:focus, #uw-a11y-panel #uw-a11y-minimize:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n background: rgba(255,255,255,0.3);\\n }\\n \\n #uw-a11y-panel #uw-a11y-minimize {\\n font-size: 20px;\\n font-weight: bold;\\n }\\n #uw-a11y-panel #uw-a11y-content {\\n max-height: calc(85vh - 60px);\\n overflow-y: auto;\\n padding: 16px;\\n transition: height 0.4s ease-in-out;\\n box-sizing: border-box;\\n }\\n\\n /* Initial animation states to prevent flash - fast transitions for GSAP override */\\n #uw-a11y-wrapper {\\n opacity: 0;\\n transform: scale(0.9) translateY(20px);\\n }\\n\\n #uw-a11y-nav ul li {\\n opacity: 0;\\n transform: translateX(-30px) scale(0.9);\\n }\\n\\n /* CSS-only animations (fallback when GSAP not available) */\\n #uw-a11y-wrapper.uw-a11y-css-animate {\\n transition: opacity 0.5s ease-out, transform 0.5s ease-out;\\n }\\n\\n #uw-a11y-nav ul li.uw-a11y-css-animate {\\n transition: opacity 0.6s ease-out, transform 0.6s ease-out;\\n }\\n\\n /* Stagger delays for CSS-only animations */\\n #uw-a11y-nav ul li.uw-a11y-css-animate:nth-child(1) { transition-delay: 0.3s; }\\n #uw-a11y-nav ul li.uw-a11y-css-animate:nth-child(2) { transition-delay: 0.4s; }\\n #uw-a11y-nav ul li.uw-a11y-css-animate:nth-child(3) { transition-delay: 0.5s; }\\n #uw-a11y-nav ul li.uw-a11y-css-animate:nth-child(4) { transition-delay: 0.6s; }\\n\\n /* Show elements when animations are ready */\\n #uw-a11y-wrapper.uw-a11y-animate-in {\\n opacity: 1;\\n transform: scale(1) translateY(0);\\n }\\n\\n #uw-a11y-nav ul li.uw-a11y-animate-in {\\n opacity: 1;\\n transform: translateX(0) scale(1);\\n }\\n\\n /* Respect reduced motion preference */\\n @media (prefers-reduced-motion: reduce) {\\n #uw-a11y-panel #uw-a11y-content {\\n transition: none;\\n }\\n \\n #uw-a11y-nav ul li a {\\n transition: none;\\n }\\n\\n /* Immediately show elements when reduced motion is preferred */\\n #uw-a11y-wrapper,\\n #uw-a11y-nav ul li {\\n opacity: 1 !important;\\n transform: none !important;\\n transition: none !important;\\n }\\n }\\n #uw-a11y-panel #uw-a11y-summary {\\n background: #f8f9fa;\\n /*border: 1px solid #dee2e6;*/\\n box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.12);\\n border-radius: 10px;\\n padding: 10px;\\n margin-bottom: 16px;\\n \\n }\\n #uw-a11y-panel .uw-a11y-issue {\\n margin-bottom: 18px;\\n padding: 12px;\\n border-left: 4px solid #ffc107;\\n background: #fff3cd;\\n border-radius: 8px;\\n cursor: pointer;\\n transition: all 0.2s ease;\\n position: relative;\\n outline: none;\\n \\n }\\n \\n /* Hover states for different issue types */\\n #uw-a11y-panel .uw-a11y-issue:hover {\\n transform: translateY(-1px);\\n border-color: rgba(0,0,0,0.15);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.error:hover {\\n background: #f5c2c7;\\n box-shadow: 0 4px 20px 0 rgba(211, 23, 41, 0.35);\\n border-color: rgba(220, 53, 69, 0.3);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.warning:hover {\\n background: #F6EBC7;\\n box-shadow: 0 4px 20px 0 rgba(211, 133, 23, 0.35);\\n border-color: rgba(255, 193, 7, 0.4);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.info:hover {\\n background: #b8daff;\\n box-shadow: 0 4px 20px 0 rgba(23, 104, 211, 0.35);\\n border-color: rgba(23, 162, 184, 0.3);\\n cursor: default;\\n }\\n \\n /* Focus states for keyboard accessibility */\\n #uw-a11y-panel .uw-a11y-issue:focus {\\n outline: 3px solid #007cba;\\n outline-offset: 2px;\\n transform: translateY(-1px);\\n z-index: 1;\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.error:focus {\\n outline-color: #dc3545;\\n background: #f5c2c7;\\n box-shadow: 0 4px 20px 0 rgba(211, 23, 41, 0.35);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.warning:focus {\\n outline-color: #ffc107;\\n background: #F6EBC7;\\n box-shadow: 0 4px 20px 0 rgba(211, 133, 23, 0.35);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.info:focus {\\n outline-color: #17a2b8;\\n background: #b8daff;\\n box-shadow: 0 4px 20px 0 rgba(23, 104, 211, 0.35);\\n }\\n \\n /* Active/pressed states */\\n #uw-a11y-panel .uw-a11y-issue:active {\\n transform: translateY(0px);\\n transition: transform 0.1s ease;\\n }\\n \\n /* Enhanced checked state hover */\\n #uw-a11y-panel .uw-a11y-issue.checked:hover {\\n background: #c3e6cb !important;\\n transform: translateY(-1px);\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.checked:focus {\\n outline-color: #28a745;\\n background: #c3e6cb !important;\\n }\\n #uw-a11y-panel .uw-a11y-issue.error {\\n border-left-color: #dc3545;\\n background: #f8d7da;\\n box-shadow: 0 2px 10px 0 rgba(211, 23, 41, 0.22);\\n }\\n #uw-a11y-panel .uw-a11y-issue.warning {\\n border-left-color: #ffc107;\\n background: #fff3cd;\\n box-shadow: 0 2px 10px 0 rgba(211, 133, 23, 0.22);\\n }\\n #uw-a11y-panel .uw-a11y-issue.info {\\n border-left-color: #17a2b8;\\n background: #d1ecf1;\\n box-shadow: 0 2px 10px 0 rgba(23, 104, 211, 0.22);\\n }\\n #uw-a11y-panel .uw-a11y-issue h4 {\\n margin: 0 0 8px 0;\\n font-size: 14px;\\n font-weight: bold;\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue-header {\\n display: flex;\\n align-items: center;\\n gap: 8px;\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue-icon {\\n width: 16px;\\n height: 16px;\\n flex-shrink: 0;\\n align-self: flex-start;\\n }\\n \\n #uw-a11y-panel .uw-a11y-error-icon {\\n color: #dc3545;\\n margin-top: 2px;\\n }\\n \\n #uw-a11y-panel .uw-a11y-warning-icon {\\n color: #856404;\\n margin-top: 2px;\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue.checked .uw-a11y-warning-icon {\\n color: #155724;\\n }\\n \\n #uw-a11y-panel .uw-a11y-issue-title {\\n flex: 1;\\n }\\n #uw-a11y-panel .uw-a11y-issue p {\\n margin: 4px 0;\\n line-height: 1.4;\\n }\\n #uw-a11y-panel .uw-a11y-issue .issue-meta {\\n font-size: 12px;\\n color: #3c3c3c;\\n margin-top: 8px;\\n padding-top: 8px;\\n border-top: 1px solid rgba(0,0,0,0.1);\\n display: flex;\\n justify-content: space-between;\\n align-items: center;\\n }\\n #uw-a11y-panel .uw-a11y-issue .learn-more {\\n color: #c5050c;\\n \\n font-size: 12px;\\n }\\n #uw-a11y-panel .uw-a11y-issue .learn-more:hover {\\n text-decoration: underline;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue.error .learn-more {\\n color: #dc3545;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue.warning .learn-more {\\n color: #856404;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue .how-to-fix {\\n margin-top: 8px;\\n border-radius: 4px;\\n background: rgb(241, 241, 241);\\n padding: 8px;\\n font-size: 13px;\\n color: #212529;\\n font-weight: 500;\\n border-left: 4px solid rgb(51, 141, 214);\\n display: flex;\\n align-items: center;\\n gap: 8px;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue .how-to-fix-icon {\\n align-self: flex-start;\\n margin-top: 2px;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue .how-to-fix-icon svg {\\n width: 12px;\\n height: 12px;\\n }\\n\\n #uw-a11y-panel .uw-a11y-issue .how-to-fix svg path {\\n fill: rgb(51, 141, 214);\\n }\\n\\n \\n /* Note: .uw-a11y-highlight is applied to the main document, not shadow DOM */\\n #uw-a11y-panel .uw-a11y-count {\\n font-weight: bold;\\n padding: 2px 8px;\\n border-radius: 12px;\\n color: white;\\n font-size: 12px;\\n margin-right: 8px;\\n }\\n #uw-a11y-panel .count-error { background: #dc3545; }\\n #uw-a11y-panel .count-warning { background: #ffc107; color: #212529; }\\n #uw-a11y-panel .count-info { background: #17a2b8; }\\n #uw-a11y-panel .count-verified { background: #28a745; }\\n #uw-a11y-panel .filter-toggle .icon-eye-off { display: none; }\\n #uw-a11y-panel .filter-toggle[aria-pressed="false"] .icon-eye { display: none; }\\n #uw-a11y-panel .filter-toggle[aria-pressed="false"] .icon-eye-off { display: inline; }\\n #uw-a11y-panel .filter-toggle {\\n background: none;\\n border: 1px solid rgba(0,0,0,0.15);\\n border-radius: 6px;\\n padding: 2px 6px;\\n cursor: pointer;\\n color: #333;\\n display: inline-flex;\\n align-items: center;\\n gap: 6px;\\n font-size: 12px;\\n }\\n #uw-a11y-panel .filter-toggle:hover {\\n background: rgba(0,0,0,0.05);\\n }\\n #uw-a11y-panel .filter-toggle:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n }\\n #uw-a11y-panel .filter-toggle[aria-pressed="false"] {\\n opacity: 0.45;\\n }\\n #uw-a11y-panel .filter-icon { width: 16px; height: 16px; }\\n #uw-a11y-panel .uw-a11y-manual-check {\\n margin: 8px 0;\\n padding: 8px;\\n background: #f8f9fa;\\n border-radius: 4px;\\n border: 1px solid #dee2e6;\\n }\\n #uw-a11y-panel .uw-a11y-checkbox {\\n display: flex;\\n align-items: center;\\n cursor: pointer;\\n font-size: 13px;\\n }\\n #uw-a11y-panel .uw-a11y-checkbox input[type="checkbox"] {\\n margin-right: 8px;\\n width: 16px;\\n height: 16px;\\n }\\n #uw-a11y-panel .uw-a11y-issue.checked {\\n opacity: 0.7;\\n background: #d4edda !important;\\n border-left-color: #28a745 !important;\\n }\\n #uw-a11y-panel .uw-a11y-issue.checked .uw-a11y-manual-check {\\n background: #d4edda;\\n border-color: #c3e6cb;\\n }\\n #uw-a11y-panel .uw-a11y-check-label {\\n color: #155724;\\n font-weight: 500;\\n }\\n #uw-a11y-panel .uw-a11y-spinner {\\n width: 40px;\\n height: 40px;\\n border: 4px solid #f3f3f3;\\n border-top: 4px solid #c5050c;\\n border-radius: 50%;\\n animation: uw-spin 1s linear infinite;\\n margin: 0 auto;\\n }\\n @keyframes uw-spin {\\n 0% { transform: rotate(0deg); }\\n 100% { transform: rotate(360deg); }\\n }\\n #uw-a11y-panel .axe-summary {\\n font-size: 12px;\\n color: #666;\\n border-top: 1px solid #dee2e6;\\n padding-top: 12px;\\n margin-top: 12px;\\n }\\n #uw-a11y-panel .uw-a11y-score-container {\\n text-align: center;\\n margin: 1rem 0;\\n padding: 1rem;\\n background: #f8f9fa;\\n border-radius: 8px;\\n border: 2px solid #e9ecef;\\n }\\n #uw-a11y-panel .uw-a11y-score-dial {\\n position: relative;\\n width: 120px;\\n height: 120px;\\n margin: 0 auto 1rem auto;\\n }\\n #uw-a11y-panel .uw-a11y-score-circle {\\n width: 120px;\\n height: 120px;\\n border-radius: 50%;\\n background: conic-gradient(from 0deg, #28a745 0deg 0deg, #e9ecef 0deg 360deg);\\n display: flex;\\n align-items: center;\\n justify-content: center;\\n position: relative;\\n }\\n #uw-a11y-panel .uw-a11y-score-inner {\\n width: 90px;\\n height: 90px;\\n background: white;\\n border-radius: 50%;\\n display: flex;\\n align-items: center;\\n justify-content: center;\\n flex-direction: column;\\n font-weight: bold;\\n }\\n #uw-a11y-panel .uw-a11y-score-number {\\n font-size: 24px;\\n color: #333;\\n }\\n #uw-a11y-panel .uw-a11y-score-label {\\n font-size: 10px;\\n color: #666;\\n text-transform: uppercase;\\n }\\n #uw-a11y-panel .uw-a11y-details {\\n margin-top: 1rem;\\n padding: 0.5rem;\\n background: #f1f3f4;\\n border-left: 3px solid #007cba;\\n border-radius: 0 4px 4px 0;\\n font-size: 12px;\\n display: none;\\n }\\n #uw-a11y-panel .uw-a11y-details.expanded {\\n display: block;\\n }\\n #uw-a11y-panel .uw-a11y-details-toggle {\\n display: block;\\n background: rgba(0,0,0,0.12);\\n border: 1px solid rgba(0,0,0,0.3);\\n border-radius: 50rem;\\n padding: 4px 8px;\\n color:rgb(28, 28, 28);\\n cursor: pointer;\\n font-size: 12px;\\n text-decoration: none;\\n backdrop-filter: saturate(250%);\\n margin-top: 0.5rem;\\n }\\n\\n #uw-a11y-panel .uw-a11y-details-toggle {\\n display: flex;\\n align-items: center;\\n gap: 8px;\\n }\\n\\n\\n #uw-a11y-panel .uw-a11y-details-toggle .technical-details-icon {\\n width: 12px;\\n height: 12px;\\n }\\n\\n #uw-a11y-panel .uw-a11y-details-item {\\n margin: 0.5rem 0;\\n padding: 0.5rem;\\n background: white;\\n border-radius: 3px;\\n }\\n\\n #uw-a11y-panel .uw-a11y-details-label {\\n font-weight: bold;\\n color: #495057;\\n }\\n #uw-a11y-panel .uw-a11y-details-value {\\n font-family: monospace;\\n background: #f8f9fa;\\n padding: 0.25rem;\\n border-radius: 2px;\\n margin-top: 0.25rem;\\n word-break: break-all;\\n }\\n #uw-a11y-panel .uw-a11y-instance-nav {\\n display: flex;\\n justify-content: space-between;\\n align-items: center;\\n margin-top: -12px;\\n margin-left: -12px;\\n margin-right: -12px;\\n margin-bottom: 10px;\\n padding: 8px;\\n background: rgba(0,0,0,0.1);\\n backdrop-filter: saturate(200%);\\n border-top-right-radius: 4px;\\n font-size: 12px;\\n }\\n #uw-a11y-panel .uw-a11y-instance-count {\\n font-weight: bold;\\n color: #495057;\\n }\\n #uw-a11y-panel .uw-a11y-nav-buttons {\\n display: flex;\\n gap: 4px;\\n }\\n #uw-a11y-panel .uw-a11y-nav-buttons button {\\n background:rgba(0,0,0,0.4);\\n backdrop-filter: saturate(200%);\\n color: white;\\n border: none;\\n padding: 4px 8px;\\n border-radius: 3px;\\n font-size: 11px;\\n cursor: pointer;\\n transition: background 0.2s;\\n }\\n #uw-a11y-panel .uw-a11y-nav-buttons button:hover:not(:disabled) {\\n background:rgba(0,0,0,0.4);\\n }\\n #uw-a11y-panel .uw-a11y-nav-buttons button:disabled {\\n background:rgba(0,0,0,0.1);\\n cursor: not-allowed;\\n }\\n \\n #uw-a11y-panel .uw-a11y-nav-buttons button:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 1px;\\n }\\n \\n /* Details toggle button focus */\\n #uw-a11y-panel .uw-a11y-details-toggle:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n background: rgba(0,0,0,0.2);\\n }\\n \\n /* Checkbox focus states */\\n #uw-a11y-panel .uw-a11y-checkbox input[type="checkbox"]:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n }\\n \\n /* Learn more link focus */\\n #uw-a11y-panel .uw-a11y-issue .learn-more:focus {\\n outline: 2px solid #007cba;\\n outline-offset: 2px;\\n text-decoration: underline;\\n }\\n \\n #uw-a11y-panel .how-to-fix code {\\n background: #f8f9fa;\\n border: 1px solid #e9ecef;\\n border-radius: 3px;\\n padding: 2px 4px;\\n font-family: \\'Consolas\\', \\'Monaco\\', \\'Courier New\\', monospace;\\n font-size: 12px;\\n color: #e83e8c;\\n font-weight: 600;\\n white-space: nowrap;\\n }\\n \\n #uw-a11y-panel .how-to-fix code:not(:last-child) {\\n margin-right: 2px;\\n }\\n </style>'},prefersReducedMotion:function(){return window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},loadGSAP:function(){return new Promise(e=>{if(this.prefersReducedMotion())return console.log("üéØ Reduced motion preferred - animations disabled"),void e(null);if(window.gsap)return void e(window.gsap);const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js",n.onload=()=>{console.log("‚ú® GSAP loaded successfully"),e(window.gsap)},n.onerror=()=>{console.warn("‚ùå Failed to load GSAP, animations will be disabled"),e(null)},document.head.appendChild(n)})},setupInitialHeight:function(){const e=this.shadowRoot.getElementById("uw-a11y-content");if(!e)return;const n=this.measureViewHeight("results"),t=this.getMaxContentHeight();n&&(e.style.height=n+"px",e.style.maxHeight=t+"px",e.style.overflowY=t>n?"hidden":"auto")},setupResizeHandler:function(){this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=()=>{const e=this.shadowRoot.getElementById("uw-a11y-content");if(!e)return;const n=this.getMaxContentHeight(),t=this.measureViewHeight(this.currentView||"results"),i=Math.min(t,n);e.style.maxHeight=n+"px",window.gsap&&!this.prefersReducedMotion()?window.gsap.to(e,{height:i,duration:.3,ease:"power2.out"}):e.style.height=i+"px",e.style.overflowY=n>i?"hidden":"auto"},window.addEventListener("resize",this.resizeHandler)},animatePanel:function(){const e=this.shadowRoot.getElementById("uw-a11y-wrapper");e&&(window.gsap&&!this.prefersReducedMotion()?window.gsap.to(e,{scale:1,opacity:1,y:0,duration:.5,ease:"power3.out"}):(e.classList.add("uw-a11y-css-animate"),setTimeout(()=>{e.classList.add("uw-a11y-animate-in")},50)))},animateNavigation:function(){const e=this.shadowRoot.querySelectorAll("#uw-a11y-nav ul li");if(console.log("üéØ animateNavigation called, found",e.length,"nav items"),0!==e.length)if(window.gsap&&!this.prefersReducedMotion()){console.log("‚ú® Starting GSAP navigation animation"),e.forEach((e,n)=>{e.style.transform="",e.style.opacity="",console.log(\`üîß Cleared styles for nav item \${n+1}\`)});const n=window.gsap.fromTo(e,{x:-30,opacity:0,scale:.9},{x:0,opacity:1,scale:1,duration:.6,stagger:.1,ease:"back.out(1.7)",delay:.3,onStart:()=>console.log("üöÄ GSAP nav animation started"),onComplete:()=>console.log("‚úÖ GSAP nav animation completed")});console.log("üìù GSAP timeline created:",n),e.forEach(e=>{const n=e.querySelector("a");n&&(n.addEventListener("mouseenter",()=>{this.isAnimating||this.prefersReducedMotion()||window.gsap.to(e,{scale:1.05,duration:.3,ease:"power2.out",overwrite:"auto"})}),n.addEventListener("mouseleave",()=>{this.prefersReducedMotion()||window.gsap.to(e,{scale:1,duration:.3,ease:"power2.out",overwrite:"auto"})}))})}else e.forEach(e=>{e.classList.add("uw-a11y-css-animate")}),setTimeout(()=>{e.forEach((e,n)=>{setTimeout(()=>{e.classList.add("uw-a11y-animate-in")},100*n)})},100);else console.warn("‚ùå No navigation items found for animation")},getMaxContentHeight:function(){const e=Math.floor(.85*window.innerHeight)-60;return Math.max(200,e)},measureViewHeight:function(e){const n=this.shadowRoot.getElementById(\`uw-a11y-view-\${e}\`);if(!n)return null;const t=n.hasAttribute("hidden"),i={position:n.style.position,visibility:n.style.visibility,height:n.style.height};n.removeAttribute("hidden"),n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const a=n.scrollHeight,o=this.getMaxContentHeight(),s=Math.min(a,o);return t&&n.setAttribute("hidden",""),n.style.position=i.position,n.style.visibility=i.visibility,n.style.height=i.height,s},animatePanelHeight:function(e){if(!window.gsap)return Promise.resolve();const n=this.shadowRoot.getElementById("uw-a11y-content");return n?(window.gsap.killTweensOf(n),new Promise(t=>{window.gsap.to(n,{height:e,duration:.4,ease:"power2.inOut",onComplete:t})})):Promise.resolve()},animateViewTransition:function(e,n){if(!window.gsap)return Promise.resolve();const t=this.shadowRoot.getElementById(\`uw-a11y-view-\${e}\`),i=this.shadowRoot.getElementById(\`uw-a11y-view-\${n}\`),a=this.shadowRoot.getElementById("uw-a11y-content");return new Promise(o=>{if(t&&window.gsap.killTweensOf(t),i&&window.gsap.killTweensOf(i),a&&window.gsap.killTweensOf(a),!t||!i||e===n)return void o();const s=this.measureViewHeight(n);s?window.gsap.to(t,{opacity:0,y:-10,duration:.2,ease:"power2.in",onComplete:()=>{t.setAttribute("hidden",""),i.removeAttribute("hidden");const e=this.getMaxContentHeight(),n=Math.min(s,e);a.style.overflowY=e>n?"hidden":"auto";window.gsap.to(a,{height:n,duration:.4,ease:"power2.inOut"});window.gsap.fromTo(i,{opacity:0,y:10},{opacity:1,y:0,duration:.3,ease:"power2.out",delay:.1,onComplete:o})}}):o()})},initNavigation:function(){this.currentView=null,this.isAnimating=!1;[{id:"uw-a11y-nav-results",view:"results"},{id:"uw-a11y-nav-settings",view:"settings"},{id:"uw-a11y-nav-help",view:"help"},{id:"uw-a11y-nav-about",view:"about"}].forEach(({id:e,view:n})=>{const t=this.shadowRoot.getElementById(e);t&&t.addEventListener("click",e=>{e.preventDefault(),this.isAnimating||this.showView(n)})}),this.showView("results")},showView:function(e){const n=["results","settings","help","about"],t=this.currentView;if(t===e||this.isAnimating)return;this.currentView=e,this.updateNavActiveState(e);if(window.gsap&&t&&t!==e&&!this.prefersReducedMotion())this.isAnimating=!0,this.animateViewTransition(t,e).then(()=>{this.isAnimating=!1});else if(n.forEach(n=>{const t=this.shadowRoot.getElementById(\`uw-a11y-view-\${n}\`);t&&(n===e?t.removeAttribute("hidden"):t.setAttribute("hidden",""))}),t&&t!==e){const n=this.shadowRoot.getElementById("uw-a11y-content");if(n){const t=this.measureViewHeight(e),i=this.getMaxContentHeight(),a=Math.min(t,i);n.style.height=a+"px",n.style.overflowY=i>a?"hidden":"auto"}}},updateNavActiveState:function(e){["results","settings","help","about"].forEach(n=>{const t=this.shadowRoot.getElementById(\`uw-a11y-nav-\${n}\`);t&&(window.gsap&&window.gsap.killTweensOf(t),n===e?(t.classList.add("active"),t.setAttribute("aria-current","page")):(t.classList.remove("active"),t.removeAttribute("aria-current"),window.gsap&&window.gsap.set(t,{backgroundColor:""})))})},getEssentialExcludeSelectors:function(){return["#uw-a11y-container","#uw-a11y-panel",".uw-a11y-highlight",'[id^="uw-a11y-"]','[class*="uw-a11y-"]',"#uw-a11y-global-styles"]},getDefaultExcludeSelectors:function(){return["#wpadminbar"]},getSettingsKey:function(){return"uw-a11y-settings"},loadSettings:function(){try{const e=localStorage.getItem(this.getSettingsKey());if(!e)return{};const n=JSON.parse(e);return n&&"object"==typeof n?n:{}}catch(e){return{}}},saveSettings:function(e){try{localStorage.setItem(this.getSettingsKey(),JSON.stringify(e||{}))}catch(e){}},isBestPracticesEnabled:function(){return!1!==this.loadSettings().enableBestPractices},getEffectiveExcludeSelectors:function(){const e=this.getEssentialExcludeSelectors(),n=this.getDefaultExcludeSelectors(),t=this.loadSettings(),i=((Array.isArray(t.excludeSelectors)?t.excludeSelectors:"string"==typeof t.excludeSelectors?t.excludeSelectors.split(","):[])||[]).map(e=>(e||"").toString().trim()).filter(Boolean);return[...new Set([...e,...n,...i])]},shouldExcludeElement:function(e){try{const n=this.getEffectiveExcludeSelectors();for(const t of n)if(t)try{if(e.matches(t))return!0;if(e.closest&&e.closest(t))return!0}catch(e){}}catch(e){}return!1},getDefaultWcag:function(){return{wcagSpec:"2.1",wcagLevel:"AA"}},getSelectedWcag:function(){const e=this.loadSettings(),n=this.getDefaultWcag();return{wcagSpec:e.wcagSpec||n.wcagSpec,wcagLevel:e.wcagLevel||n.wcagLevel}},buildWcagTags:function(e,n){const t=(n||"AA").toUpperCase(),i=t.toLowerCase(),a=["2.0","2.1","2.2"],o=Math.max(0,a.indexOf(e||"2.1")),s=[];for(let e=0;o>=e;e++){const n=a[e].replace(".","");s.push(\`\${0===e?"wcag2":\`wcag\${n}\`}\${i}\`)}if("AA"===t||"AAA"===t)for(let e=0;o>=e;e++){const n=a[e].replace(".",""),t=0===e?"wcag2":\`wcag\${n}\`;s.includes(\`\${t}a\`)||s.push(\`\${t}a\`)}if("AAA"===t)for(let e=0;o>=e;e++){const n=a[e].replace(".",""),t=0===e?"wcag2":\`wcag\${n}\`;s.includes(\`\${t}aa\`)||s.push(\`\${t}aa\`)}return s},getWcagLabel:function(){const{wcagSpec:e,wcagLevel:n}=this.getSelectedWcag();return\`WCAG \${e} \${String(n||"").toUpperCase()}\`},resetSettingsToDefaults:function(){const e={excludeSelectors:this.getDefaultExcludeSelectors(),enableBestPractices:!0,...this.getDefaultWcag()};return this.saveSettings(e),e},renderSettings:function(){const e=this.shadowRoot.getElementById("uw-a11y-view-settings");if(!e)return;const n=this.loadSettings(),t=Array.isArray(n.excludeSelectors)?n.excludeSelectors:this.getDefaultExcludeSelectors(),i=this.filterOutEssential(t).join(", "),a=!1!==n.enableBestPractices,o={...this.getDefaultWcag(),wcagSpec:n.wcagSpec||"2.1",wcagLevel:(n.wcagLevel||"AA").toUpperCase()};e.innerHTML=\`\\n <div class="uw-a11y-settings" role="region" aria-labelledby="uw-a11y-settings-heading">\\n <h3 id="uw-a11y-settings-heading">Settings</h3>\\n <div class="uw-a11y-form-row">\\n <label for="uw-a11y-exclude-input"><strong>Exclude Selectors</strong></label>\\n <input id="uw-a11y-exclude-input" class="uw-a11y-input" type="text" value="\${this.escapeHtmlAttr(i)}" aria-describedby="uw-a11y-exclude-help">\\n <div id="uw-a11y-exclude-help" class="uw-a11y-helptext">Comma‚Äëseparated CSS selectors skipped during scanning. Essential internal UI is always excluded.</div>\\n <div id="uw-a11y-settings-msg" class="uw-a11y-msg" aria-live="polite"></div>\\n </div>\\n <div class="uw-a11y-form-row">\\n <label for="uw-a11y-wcag-spec"><strong>WCAG Specification</strong></label>\\n <select id="uw-a11y-wcag-spec" class="uw-a11y-input">\\n <option value="2.0" \${"2.0"===o.wcagSpec?"selected":""}>WCAG 2.0</option>\\n <option value="2.1" \${"2.1"===o.wcagSpec?"selected":""}>WCAG 2.1</option>\\n <option value="2.2" \${"2.2"===o.wcagSpec?"selected":""}>WCAG 2.2</option>\\n </select>\\n <div class="uw-a11y-helptext">Choose which WCAG version to target. Default is 2.1.</div>\\n </div>\\n <div class="uw-a11y-form-row">\\n <label for="uw-a11y-wcag-level"><strong>WCAG Level</strong></label>\\n <select id="uw-a11y-wcag-level" class="uw-a11y-input">\\n <option value="A" \${"A"===o.wcagLevel?"selected":""}>Level A</option>\\n <option value="AA" \${"AA"===o.wcagLevel?"selected":""}>Level AA</option>\\n <option value="AAA" \${"AAA"===o.wcagLevel?"selected":""}>Level AAA</option>\\n </select>\\n <div class="uw-a11y-helptext">Default is AA. Selecting AAA enables extra rules like enhanced color contrast.</div>\\n </div>\\n <div class="uw-a11y-form-row">\\n <label>\\n <input id="uw-a11y-bp-input" type="checkbox" \${a?"checked":""}>\\n <span>Include best‚Äëpractice suggestions</span>\\n </label>\\n <div class="uw-a11y-helptext">Additional tips beyond WCAG failures, like link text clarity or new‚Äëtab labeling.</div>\\n <div class="uw-a11y-actions">\\n <button id="uw-a11y-save-settings" class="uw-a11y-btn primary">Save and Re‚Äëscan</button>\\n <button id="uw-a11y-reset-settings" class="uw-a11y-btn" title="Reset to defaults">\\n <svg class="uw-a11y-reset-icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 5V1L7 6l5 5V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg>\\n Reset\\n </button>\\n </div>\\n </div>\\n </div>\\n \`;const s=this.shadowRoot.getElementById("uw-a11y-exclude-input"),r=this.shadowRoot.getElementById("uw-a11y-settings-msg"),l=this.shadowRoot.getElementById("uw-a11y-save-settings"),c=this.shadowRoot.getElementById("uw-a11y-reset-settings"),d=this.shadowRoot.getElementById("uw-a11y-bp-input"),u=this.shadowRoot.getElementById("uw-a11y-wcag-spec"),p=this.shadowRoot.getElementById("uw-a11y-wcag-level");l.addEventListener("click",()=>{const e=(s.value||"").split(",").map(e=>e.trim()).filter(Boolean);const n=(e=>{for(const n of e)try{document.querySelectorAll(n)}catch(e){return n}return null})(e);if(n)return r.textContent=\`Invalid selector: \${n}\`,void(r.className="uw-a11y-msg err");const t={excludeSelectors:this.filterOutEssential(e),enableBestPractices:!(!d||!d.checked),wcagSpec:u?u.value:"2.1",wcagLevel:p?p.value:"AA"};this.saveSettings(t),r.textContent="Saved. Re‚Äëscanning‚Ä¶",r.className="uw-a11y-msg ok",this.runAxeChecks(),this.showView("results")}),c.addEventListener("click",()=>{const e=this.resetSettingsToDefaults();s.value=this.filterOutEssential(e.excludeSelectors).join(", "),d&&(d.checked=!!e.enableBestPractices),u&&(u.value=e.wcagSpec),p&&(p.value=e.wcagLevel),r.textContent="Settings reset to defaults.",r.className="uw-a11y-msg ok"})},filterOutEssential:function(e){const n=new Set(this.getEssentialExcludeSelectors());return(e||[]).filter(e=>!n.has(e))},escapeHtmlAttr:function(e){return(e||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getAxeVersion:function(){return window.axe&&window.axe.version?window.axe.version:"unknown"},loadFilters:function(){try{const e=localStorage.getItem("uw-a11y-filters");if(e){const n=JSON.parse(e);this.filters={errors:!0,warnings:!0,info:!0,...n}}}catch(e){}},saveFilters:function(){try{localStorage.setItem("uw-a11y-filters",JSON.stringify(this.filters))}catch(e){}},toggleFilter:function(e){["errors","warnings","info"].includes(e)&&(this.filters[e]=!this.filters[e],this.saveFilters(),this.updateFilterUI(),this.refreshIssueList())},updateFilterUI:function(){const e=(e,n)=>{const t=this.shadowRoot.getElementById(e);t&&t.setAttribute("aria-pressed",n?"true":"false");const i=t?.closest(".violationtype");i&&(i.style.opacity=n?"1":"0.6")};e("toggle-errors",this.filters.errors),e("toggle-warnings",this.filters.warnings),e("toggle-info",this.filters.info)},getIssuesForFilters:function(){return this.issues.filter(e=>"error"===e.type&&this.filters.errors||"warning"===e.type&&this.filters.warnings||"info"===e.type&&this.filters.info)},refreshIssueList:function(){const e=this.shadowRoot.getElementById("uw-a11y-results");if(!e)return;const n=this.getIssuesForFilters();if(0===n.length)return void(e.innerHTML='\\n <div class="uw-a11y-issue info">\\n <h4>No issues to display</h4>\\n <p>Adjust the filters above to show hidden groups.</p>\\n </div>\\n ');const t=this.groupIssuesByRule(n),i=Object.keys(t).map(e=>{const n=t[e],i=n[0],a="warning"===i.type&&i.uniqueId,o=n.length>1?\`\\n <div class="uw-a11y-instance-nav">\\n <span class="uw-a11y-instance-count">Instance <span id="current-\${this.sanitizeHtmlId(e)}">1</span> of \${n.length}</span>\\n <div class="uw-a11y-nav-buttons">\\n <button onclick="window.uwAccessibilityChecker.navigateInstance('\${this.escapeJavaScript(e)}', -1); event.stopPropagation();" \\n id="prev-\${this.sanitizeHtmlId(e)}" disabled>‚Äπ Prev</button>\\n <button onclick="window.uwAccessibilityChecker.navigateInstance('\${this.escapeJavaScript(e)}', 1); event.stopPropagation();" \\n id="next-\${this.sanitizeHtmlId(e)}">Next ‚Ä∫</button>\\n </div>\\n </div>\\n \`:"",s="error"===i.type?'<svg class="uw-a11y-issue-icon uw-a11y-error-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>':'<svg class="uw-a11y-issue-icon uw-a11y-warning-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';return\`\\n <div class="uw-a11y-issue \${i.type} \${a&&this.isRuleVerified(e)?"checked":""}" \\n onclick="window.uwAccessibilityChecker.highlightCurrentInstance('\${this.escapeJavaScript(e)}')" \\n onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();window.uwAccessibilityChecker.highlightCurrentInstance('\${this.escapeJavaScript(e)}');}"\\n tabindex="0"\\n role="button" \\n aria-label="Click to highlight \${this.escapeHtmlAttribute(i.title)} on the page\${n.length>1?\` (\${n.length} instances)\`:""}"\\n id="issue-\${this.sanitizeHtmlId(e)}">\\n \${o}\\n <h4>\\n <span class="uw-a11y-issue-header">\${s}<span class="uw-a11y-issue-title">\${this.escapeHtmlContent(i.title)} \${n.length>1?\`(\${n.length} instances)\`:""}</span></span>\\n </h4>\\n <div class="how-to-fix"><div class="how-to-fix-icon"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"/></svg></div><div><strong>How to fix:</strong> <span id="recommendation-\${this.sanitizeHtmlId(e)}"></span></div></div>\\n \${a?\`\\n <div class="uw-a11y-manual-check"> \\n <label class="uw-a11y-checkbox"> \\n <input type="checkbox" id="check-\${this.sanitizeHtmlId(e)}" \${this.isRuleVerified(e)?"checked":""} \\n onchange="window.uwAccessibilityChecker.toggleRuleVerification('\${this.escapeJavaScript(e)}'); event.stopPropagation();"> \\n <span class="uw-a11y-checkmark"></span>\\n <span class="uw-a11y-check-label">\${this.isRuleVerified(e)?\`All \${n.length} instances manually verified ‚úì\`:\`Mark all \${n.length} instances as verified\`}</span>\\n </label>\\n </div>\`:""}\\n \${i.detailedInfo&&i.detailedInfo.length>0?\`\\n <button class="uw-a11y-details-toggle" onclick="window.uwAccessibilityChecker.toggleDetails('\${this.escapeJavaScript(e)}'); event.stopPropagation();">Show technical details</button>\\n <div class="uw-a11y-details" id="details-\${this.sanitizeHtmlId(e)}"><div id="detailed-content-\${this.sanitizeHtmlId(e)}">\${this.renderDetailedInfo(i.detailedInfo)}</div></div>\\n \`:""}\\n <div class="issue-meta"><div><strong>Impact:</strong> \${this.escapeHtmlContent(i.impact||"unknown")}\\n \${i.helpUrl?\`<br><a href="\${this.escapeUrl(i.helpUrl)}" target="_blank" class="learn-more">Learn more about this rule</a>\`:""}\\n </div></div>\\n </div>\`}).join("");e.innerHTML=i,Object.keys(t).forEach(e=>{const n=t[e][0],i=this.shadowRoot.getElementById(\`recommendation-\${e}\`);i&&(i.innerHTML=n.recommendation)})},addIssue:function(e,n,t,i,a,o,s,r,l,c){this.issues.push({id:this.issues.length,type:e,title:n,description:t,element:i,recommendation:a,helpUrl:o,impact:s,tags:r||[],detailedInfo:l||[],ruleId:c||n.toLowerCase().replace(/[^a-z0-9]/g,"-")})},announceResults:function(e,n){const t=this.shadowRoot.getElementById("uw-a11y-announcements");if(!t)return;let i="";if(e){const n=e.score;i+=\`Accessibility test complete. Score: \${n} out of 100, rated as \${97>n?90>n?70>n?50>n?"Needs immediate attention":"Fair":"Good":"Very Good":"Excellent"}. \`}const a=n.error+n.warning;0===a?i+="No accessibility violations found. Excellent work!":(i+=\`Found \${a} total issues: \`,n.error>0&&(i+=\`\${n.error} violation\${1===n.error?"":"s"} requiring immediate attention\`),n.warning>0&&(n.error>0&&(i+=" and "),i+=\`\${n.warning} item\${1===n.warning?"":"s"} requiring manual review\`),n.warningChecked>0&&(i+=\`. \${n.warningChecked} item\${1===n.warningChecked?"":"s"} already verified\`),i+=". Navigate through the list below to review each issue."),setTimeout(()=>{t.textContent=i},500)},setFocusToPanel:function(){setTimeout(()=>{const e=this.shadowRoot.getElementById("uw-a11y-panel");e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"nearest"}))},100)},updateIfIssuesVisibility:function(){const e=this.issues.length>0;this.shadowRoot.querySelectorAll(".if-issues").forEach(n=>{n.style.display=e?"":"none"})},displayResults:function(){this.createPanel();const e=this.shadowRoot.getElementById("uw-a11y-summary"),n=this.shadowRoot.getElementById("uw-a11y-results");this.loadMinimizeState();const t={error:this.issues.filter(e=>"error"===e.type).length,warning:this.issues.filter(e=>"warning"===e.type&&e.uniqueId).length,warningChecked:this.issues.filter(e=>"warning"===e.type&&e.uniqueId&&this.checkedItems.has(e.uniqueId)).length,info:this.issues.filter(e=>"info"===e.type).length};this.updateIfIssuesVisibility();const i=this.axeResults?this.axeResults.score:null;this.loadFilters(),e.innerHTML=\`\\n \\x3c!-- ARIA live region for screen reader announcements --\\x3e\\n <div id="uw-a11y-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>\\n \\n \${i?this.renderScoreDial(i):""}\\n \\n \\x3c!-- Accessible summary section --\\x3e\\n <div role="region" aria-labelledby="uw-a11y-summary-heading">\\n <h3 id="uw-a11y-summary-heading" class="sr-only">Accessibility Test Results Summary</h3>\\n \\n <p><strong>Total Issues Found:</strong> \${this.issues.length}</p>\\n \\n <div style="margin: 8px 0;" role="list" aria-label="Issue breakdown by type">\\n <div role="listitem" class="violationtype">\\n <div class="info-with-tooltip">\\n <span id="count-error" class="uw-a11y-count count-error" aria-label="\${t.error} violations requiring immediate attention">\${t.error}</span>Violations\\n <button class="info-btn" aria-label="What does Violations mean?" aria-describedby="tip-violations">i</button>\\n <span id="tip-violations" class="tooltip" role="tooltip">These are accessibility failures that must be fixed.</span>\\n </div>\\n <button id="toggle-errors" class="filter-toggle" aria-pressed="true" aria-label="Toggle showing violations" onclick="window.uwAccessibilityChecker.toggleFilter('errors')">\\n <svg class="filter-icon icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/></svg>\\n <svg class="filter-icon icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3l18 18M10.58 10.58A3 3 0 0012 15a3 3 0 002.42-4.42M9.88 4.24A10.94 10.94 0 0112 5c7 0 11 7 11 7a18.94 18.94 0 01-5.06 5.94M6.26 6.26A18.94 18.94 0 001 12s4 7 11 7a10.94 10.94 0 004.24-.88" stroke="currentColor" stroke-width="2"/></svg>\\n </button>\\n </div>\\n <div role="listitem" class="violationtype">\\n <div class="info-with-tooltip">\\n <span id="count-warning" class="uw-a11y-count count-warning" aria-label="\${t.warning} manual review items">\${t.warning}</span>Manual Review\\n <button class="info-btn" aria-label="What does Manual Review mean?" aria-describedby="tip-manual">i</button>\\n <span id="tip-manual" class="tooltip" role="tooltip">These items need human verification.</span>\\n </div>\\n <button id="toggle-warnings" class="filter-toggle" aria-pressed="true" aria-label="Toggle showing manual review" onclick="window.uwAccessibilityChecker.toggleFilter('warnings')">\\n <svg class="filter-icon icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/></svg>\\n <svg class="filter-icon icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3l18 18M10.58 10.58A3 3 0 0012 15a3 3 0 002.42-4.42M9.88 4.24A10.94 10.94 0 0112 5c7 0 11 7 11 7a18.94 18.94 0 01-5.06 5.94M6.26 6.26A18.94 18.94 0 001 12s4 7 11 7a10.94 10.94 0 004.24-.88" stroke="currentColor" stroke-width="2"/></svg>\\n </button>\\n </div>\\n <div role="listitem" class="violationtype">\\n <div class="info-with-tooltip">\\n <span id="count-info" class="uw-a11y-count count-info" aria-label="\${t.info} best-practice suggestions">\${t.info}</span>Best Practices\\n <button class="info-btn" aria-label="What does Best Practices mean?" aria-describedby="tip-best">i</button>\\n <span id="tip-best" class="tooltip" role="tooltip">Suggestions to improve usability and clarity.</span>\\n </div>\\n <button id="toggle-info" class="filter-toggle" aria-pressed="true" aria-label="Toggle showing best practices" onclick="window.uwAccessibilityChecker.toggleFilter('info')">\\n <svg class="filter-icon icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/></svg>\\n <svg class="filter-icon icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3l18 18M10.58 10.58A3 3 0 0012 15a3 3 0 002.42-4.42M9.88 4.24A10.94 10.94 0 0112 5c7 0 11 7 11 7a18.94 18.94 0 01-5.06 5.94M6.26 6.26A18.94 18.94 0 001 12s4 7 11 7a10.94 10.94 0 004.24-.88" stroke="currentColor" stroke-width="2"/></svg>\\n </button>\\n </div>\\n \${t.warningChecked>0?\`\\n <div role="listitem" class="violationtype">\\n <div>\\n <span id="count-verified" class="uw-a11y-count count-verified" aria-label="\${t.warningChecked} verified items">\${t.warningChecked}</span>Verified\\n <span class="sr-only"> - These manual review items have been checked and confirmed</span>\\n </div>\\n </div>\\n \`:""}\\n </div>\\n </div>\\n \\n \${this.axeResults?\`\\n <div class="axe-summary">\\n <strong>Standard:</strong> \${this.getWcagLabel()} | <strong>Engine:</strong> axe-core v\${this.getAxeVersion()} | <strong>Checker:</strong> v\${this.version}\\n </div>\\n \`:""}\\n \`,this.updateFilterUI(),0===this.issues.length?n.innerHTML=\`\\n <div class="uw-a11y-issue info">\\n <h4>Excellent Accessibility!</h4>\\n <p>No accessibility violations detected by axe-core. Your page meets \${this.getWcagLabel()} automated testing standards.</p>\\n <p><strong>Next Steps:</strong> Consider manual testing with screen readers and keyboard navigation for complete accessibility validation.</p>\\n </div>\\n \`:this.refreshIssueList(),this.announceResults(i,t),this.setFocusToPanel()},createScoreGradient:function(e,n){let t;return t=90>e?70>e?50>e?\`#a71e2a 0deg, #dc3545 \${.3*n}deg, #e55666 \${.6*n}deg, #ee6674 \${n}deg\`:\`#dc6002 0deg, #fd7e14 \${.3*n}deg, #ff8c42 \${.6*n}deg, #ff9a56 \${n}deg\`:\`#e6a800 0deg, #ffc107 \${.3*n}deg, #ffce3a \${.6*n}deg, #ffd96a \${n}deg\`:\`#1e7e34 0deg, #28a745 \${.3*n}deg, #34ce57 \${.6*n}deg, #40d969 \${n}deg\`,\`conic-gradient(from 0deg, \${t}, #e9ecef \${n}deg 360deg)\`},renderScoreDial:function(e){const n=e.score,t=97>n?90>n?70>n?50>n?"Immediate attention needed":"Fair accessibility - several issues to address":"Good accessibility with room for improvement":"Very Good - just a few issues to address":"Excellent";return\`\\n <div class="uw-a11y-score-container" role="region" aria-labelledby="uw-a11y-score-heading">\\n <h3 id="uw-a11y-score-heading" class="sr-only">Accessibility Score</h3>\\n \\n \\x3c!-- Screen reader accessible score announcement --\\x3e\\n <div class="sr-only">\\n Accessibility score: \${n} out of 100. Rating: \${t}\\n </div>\\n \\n <div class="uw-a11y-score-dial" role="img" aria-label="Accessibility score \${n} out of 100, rated as \${t}">\\n <div class="uw-a11y-score-circle" style="background: \${this.createScoreGradient(n,n/100*360)};">\\n <div class="uw-a11y-score-inner">\\n <div class="uw-a11y-score-number" aria-hidden="true">\${n}</div>\\n <div class="uw-a11y-score-label" aria-hidden="true">Score</div>\\n </div>\\n </div>\\n </div>\\n <div style="font-size: 14px;">\\n <span style="font-size: 12px; color: #666;" aria-hidden="true">\\n \${t}\\n </span>\\n </div>\\n </div>\\n \`},renderDetailedInfo:function(e){return e.map(e=>{let n=e.value;return"colors"===e.type&&"object"==typeof n?n=\`\\n <div style="margin: 0.5rem 0;">\\n <div><strong>Foreground:</strong> <span style="background: \${n.foreground}; color: white; padding: 2px 6px; border-radius: 2px;">\${n.foreground}</span></div>\\n <div><strong>Background:</strong> <span style="background: \${n.background}; border: 1px solid #ccc; padding: 2px 6px; border-radius: 2px;">\${n.background}</span></div>\\n <div><strong>Contrast Ratio:</strong> \${n.contrast}</div>\\n <div><strong>Requirement:</strong> \${n.required}</div>\\n </div>\\n \`:"string"==typeof n&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),\`\\n <div class="uw-a11y-details-item">\\n <div class="uw-a11y-details-label">\${e.label}:</div>\\n <div class="uw-a11y-details-value">\${n}</div>\\n </div>\\n \`}).join("")},groupIssuesByRule:function(e){const n={};return e.forEach(e=>{const t=\`\${e.ruleId||\`fallback-\${e.title.toLowerCase().replace(/[^a-z0-9]/g,"-")}-\${e.id}\`}-\${e.type}\`;n[t]||(n[t]=[]),n[t].push(e)}),n},currentInstances:{},navigateInstance:function(e,n){this.currentInstances[e]||(this.currentInstances[e]=0);const t=this.groupIssuesByRule(this.issues)[e];if(!t)return;const i=this.currentInstances[e]+n;i>=0&&t.length>i&&(this.currentInstances[e]=i,this.updateInstanceDisplay(e,t),this.highlightCurrentInstance(e))},updateInstanceDisplay:function(e,n){const t=this.currentInstances[e]||0,i=n[t],a=this.sanitizeHtmlId(e),o=this.shadowRoot.getElementById(\`description-\${a}\`),s=this.shadowRoot.getElementById(\`recommendation-\${a}\`),r=this.shadowRoot.getElementById(\`current-\${a}\`),l=this.shadowRoot.getElementById(\`detailed-content-\${a}\`);o&&(o.textContent=i.description.split("\\n")[0]),s&&(s.innerHTML=i.recommendation),r&&(r.textContent=t+1),l&&i.detailedInfo&&(l.innerHTML=this.renderDetailedInfo(i.detailedInfo));const c=this.shadowRoot.getElementById(\`prev-\${a}\`),d=this.shadowRoot.getElementById(\`next-\${a}\`);c&&(c.disabled=0===t),d&&(d.disabled=t===n.length-1)},highlightCurrentInstance:function(e){document.querySelectorAll(".uw-a11y-highlight").forEach(e=>{e.classList.remove("uw-a11y-highlight")});const n=this.groupIssuesByRule(this.issues)[e];if(!n)return;const t=n[this.currentInstances[e]||0];t.element&&(t.element.classList.add("uw-a11y-highlight"),t.element.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{t.element&&t.element.classList.remove("uw-a11y-highlight")},3e3))},isRuleVerified:function(e){const n=this.groupIssuesByRule(this.issues)[e];return!!n&&n.every(e=>e.uniqueId&&this.checkedItems.has(e.uniqueId))},toggleRuleVerification:function(e){const n=this.groupIssuesByRule(this.issues)[e];if(!n)return;const t=this.isRuleVerified(e);n.forEach(e=>{e.uniqueId&&(t?this.checkedItems.delete(e.uniqueId):this.checkedItems.add(e.uniqueId))});const i=this.sanitizeHtmlId(e),a=this.shadowRoot.getElementById(\`check-\${i}\`),o=a?.parentNode.querySelector(".uw-a11y-check-label"),s=this.shadowRoot.getElementById(\`issue-\${i}\`),r=this.isRuleVerified(e);a&&(a.checked=r),o&&(o.textContent=r?\`All \${n.length} instances manually verified ‚úì\`:\`Mark all \${n.length} instances as verified\`),s&&(r?s.classList.add("checked"):s.classList.remove("checked")),this.updateScore(),sessionStorage.setItem("uw-a11y-checked",JSON.stringify(Array.from(this.checkedItems)))},toggleDetails:function(e){const n=this.sanitizeHtmlId(e),t=this.shadowRoot.getElementById(\`details-\${n}\`),i=t.previousElementSibling;t.classList.contains("expanded")?(t.classList.remove("expanded"),this.updateButtonText(i,"Show technical details")):(t.classList.add("expanded"),this.updateButtonText(i,"Hide technical details"))},updateButtonText:function(e,n){const t=e.childNodes;for(let e=t.length-1;e>=0;e--){const i=t[e];if(i.nodeType===Node.TEXT_NODE&&i.textContent.trim())return void(i.textContent=n)}e.appendChild(document.createTextNode(n))},toggleManualCheck:function(e){this.checkedItems.has(e)?this.checkedItems.delete(e):this.checkedItems.add(e);const n=this.shadowRoot.getElementById(\`check-\${e}\`),t=n.parentNode.querySelector(".uw-a11y-check-label"),i=n.closest(".uw-a11y-issue");this.checkedItems.has(e)?(t.textContent="Manually verified ‚úì",i.classList.add("checked")):(t.textContent="Mark as manually verified",i.classList.remove("checked")),this.updateScore(),sessionStorage.setItem("uw-a11y-checked",JSON.stringify(Array.from(this.checkedItems)))},updateScore:function(){if(!this.filteredAxeResults)return;const e=this.calculateAccessibilityScore(this.filteredAxeResults);this.axeResults.score=e;const n=this.shadowRoot.querySelector(".uw-a11y-score-number"),t=this.shadowRoot.querySelector(".uw-a11y-score-circle");if(n&&t){n.textContent=e.score;const i=e.score,a=this.createScoreGradient(i,i/100*360);t.style.background=a}const i={error:this.issues.filter(e=>"error"===e.type).length,warning:this.issues.filter(e=>"warning"===e.type&&e.uniqueId).length,warningChecked:this.issues.filter(e=>"warning"===e.type&&e.uniqueId&&this.checkedItems.has(e.uniqueId)).length,info:this.issues.filter(e=>"info"===e.type).length},a=(e,n)=>{const t=this.shadowRoot.getElementById(e);t&&(t.textContent=n)};a("count-error",i.error),a("count-warning",i.warning),a("count-info",i.info),a("count-verified",i.warningChecked),this.updateIfIssuesVisibility();const o=this.shadowRoot.getElementById("uw-a11y-announcements");if(o&&i.warningChecked>0){o.textContent=\`Score updated to \${e.score}. \${i.warningChecked} item\${1===i.warningChecked?"":"s"} verified.\`}},loadCheckedItems:function(){try{const e=sessionStorage.getItem("uw-a11y-checked");e&&(this.checkedItems=new Set(JSON.parse(e)))}catch(e){console.warn("Could not load checked items from sessionStorage:",e)}},toggleMinimize:function(){const e=this.shadowRoot.getElementById("uw-a11y-panel"),n=this.shadowRoot.getElementById("uw-a11y-minimize");e&&n&&(this.isMinimized=!this.isMinimized,this.isMinimized?(e.classList.add("minimized"),n.textContent="+",n.title="Restore"):(e.classList.remove("minimized"),n.textContent="‚àí",n.title="Minimize",this.setFocusToPanel()),sessionStorage.setItem("uw-a11y-minimized",this.isMinimized))},loadMinimizeState:function(){try{"true"===sessionStorage.getItem("uw-a11y-minimized")&&setTimeout(()=>{this.toggleMinimize()},100)}catch(e){console.warn("Could not load minimize state from sessionStorage:",e)}},checkForUpdates:function(){sessionStorage.getItem("uw-a11y-update-checked")||(sessionStorage.setItem("uw-a11y-update-checked","true"),fetch("https://api.github.com/repos/althe3rd/Pinpoint/releases/latest").then(e=>e.json()).then(e=>{const n=e.tag_name.replace("v","");this.compareVersions(n,this.version)>0&&this.showUpdateNotification(n,e.html_url)}).catch(()=>{}))},compareVersions:function(e,n){const t=e.split(".").map(Number),i=n.split(".").map(Number);for(let e=0;e<Math.max(t.length,i.length);e++){const n=t[e]||0,a=i[e]||0;if(n>a)return 1;if(a>n)return-1}return 0},showUpdateNotification:function(e,n){const t=document.createElement("div");t.id="uw-a11y-update-notification",t.innerHTML=\`\\n <div style="background: #56ab30; color: white; padding: 12px; border-radius: 4px; margin-bottom: 10px; font-size: 13px; position: relative;">\\n <button onclick="this.parentElement.parentElement.style.display='none'" \\n style="position: absolute; top: 8px; right: 8px; background: none; border: none; color: white; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center; opacity: 0.8; transition: opacity 0.2s;"\\n onmouseover="this.style.opacity='1'; this.style.backgroundColor='rgba(255,255,255,0.2)'"\\n onmouseout="this.style.opacity='0.8'; this.style.backgroundColor='transparent'">\\n ‚úï\\n </button>\\n <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">\\n <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">\\n <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\\n <circle cx="12" cy="12" r="1" fill="currentColor"/>\\n </svg>\\n <h3 style="font-size: 14px; margin: 0; font-weight: 700;">Update Available</h3>\\n </div>\\n <div style="margin-bottom: 8px;">v\${this.version} ‚Üí v\${e}</div>\\n <div style="display: flex; flex-wrap: wrap; gap: 16px;">\\n <a href="\${n}" target="_blank" style="color: #ffffff; text-decoration: underline; font-size: 12px;">\\n View release notes ‚Üí\\n </a>\\n <a href="https://althe3rd.github.io/Pinpoint/" target="_blank" style="color: #ffffff; text-decoration: underline; font-size: 12px;">\\n Get latest bookmarklet ‚Üí\\n </a>\\n </div>\\n </div>\\n \`,setTimeout(()=>{const e=this.shadowRoot?.getElementById("uw-a11y-summary");e&&e.insertBefore(t,e.firstChild)},500)},remove:function(){this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null);const e=document.getElementById("uw-a11y-container");e&&e.remove();const n=document.getElementById("uw-a11y-global-styles");n&&n.remove(),document.querySelectorAll(".uw-a11y-highlight").forEach(e=>{e.classList.remove("uw-a11y-highlight")}),delete window.uwAccessibilityChecker},debugShowUpdateNotification:function(){this.showUpdateNotification("1.5.0","https://github.com/althe3rd/Pinpoint/releases/tag/v1.5.0")}},window.uwAccessibilityChecker.init())}();`;
        
        // Set up the test bookmarklet link
        document.addEventListener('DOMContentLoaded', function() {
            const testBookmarkletLink = document.getElementById('test-bookmarklet');
            if (testBookmarkletLink && testBookmarkletCode !== 'PLACEHOLDER_FOR_BOOKMARKLET_CODE') {
                testBookmarkletLink.href = 'javascript:' + testBookmarkletCode;
            }
        });
        
        // Minimal JavaScript for interactive elements (intentionally basic for testing)
        function toggleContent() {
            alert('Content toggled - but this is not accessible!');
        }
        
        function showModal() {
            alert('Modal opened - but this is not accessible!');
        }
        
        function selectOption(option) {
            document.getElementById('custom-dropdown').textContent = option + ' ‚ñº';
            document.getElementById('dropdown-options').style.display = 'none';
        }
        
        document.getElementById('custom-dropdown').onclick = function() {
            const options = document.getElementById('dropdown-options');
            options.style.display = options.style.display === 'none' ? 'block' : 'none';
        };
        
        // Hide dropdown when clicking elsewhere
        document.addEventListener('click', function(e) {
            if (!e.target.closest('#custom-dropdown') && !e.target.closest('#dropdown-options')) {
                document.getElementById('dropdown-options').style.display = 'none';
            }
        });
    </script>
</body>
</html> 