<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Over Images Contrast Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-case {
            margin: 30px 0;
            border: 1px solid #ccc;
            background: white;
        }
        
        .test-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            padding: 10px;
            background: #f9f9f9;
        }
        
        /* Text over light background images - should pass */
        .light-image-bg {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"><rect width="200" height="100" fill="%23f0f0f0"/><circle cx="50" cy="25" r="10" fill="%23e0e0e0"/><circle cx="150" cy="75" r="15" fill="%23e5e5e5"/></svg>');
            background-size: cover;
            padding: 20px;
            color: #000000;
            font-size: 16px;
        }
        
        .light-image-bg-large {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"><rect width="200" height="100" fill="%23f5f5f5"/><rect x="20" y="20" width="60" height="60" fill="%23e8e8e8"/></svg>');
            background-size: cover;
            padding: 20px;
            color: #333333;
            font-size: 24px;
        }
        
        /* Text over dark background images - should pass */
        .dark-image-bg {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"><rect width="200" height="100" fill="%23303030"/><circle cx="50" cy="25" r="10" fill="%23404040"/><circle cx="150" cy="75" r="15" fill="%23202020"/></svg>');
            background-size: cover;
            padding: 20px;
            color: #ffffff;
            font-size: 16px;
        }
        
        /* Text over medium contrast image - borderline case */
        .medium-image-bg {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"><rect width="200" height="100" fill="%23888888"/><rect x="30" y="30" width="40" height="40" fill="%23999999"/></svg>');
            background-size: cover;
            padding: 20px;
            color: #ffffff;
            font-size: 16px;
        }
        
        /* Complex image background with poor contrast - should remain manual review */
        .complex-poor-contrast {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"><rect width="200" height="100" fill="%23cccccc"/><rect x="0" y="0" width="100" height="50" fill="%23d0d0d0"/><rect x="100" y="50" width="100" height="50" fill="%23c8c8c8"/></svg>');
            background-size: cover;
            padding: 20px;
            color: #dddddd;
            font-size: 16px;
        }
        
        /* Hero section style - common real-world scenario */
        .hero-section {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs><linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23404040;stop-opacity:1" /><stop offset="100%" style="stop-color:%23606060;stop-opacity:1" /></linearGradient></defs><rect width="400" height="200" fill="url(%23grad)"/></svg>');
            background-size: cover;
            background-position: center;
            padding: 40px 20px;
            text-align: center;
            color: #ffffff;
        }
        
        .hero-title {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .hero-subtitle {
            font-size: 18px;
            margin-bottom: 20px;
        }
        
        .hero-cta {
            background-color: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            padding: 12px 24px;
            border: 2px solid #ffffff;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Text Over Images Contrast Testing</h1>
    <p>This page tests canvas-based pixel analysis for text over background images. The enhanced accessibility checker should automatically resolve contrast issues where sufficient contrast exists.</p>
    
    <div class="test-case">
        <div class="test-title">Test 1: Black Text on Light Image Background</div>
        <div class="light-image-bg">
            This black text sits over a light gray image background. The pixel analysis should detect sufficient contrast and auto-resolve any manual review flags.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 2: Large Dark Text on Light Image</div>
        <div class="light-image-bg-large">
            This is large dark text over a light image. Should pass WCAG requirements for large text.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 3: White Text on Dark Image Background</div>
        <div class="dark-image-bg">
            This white text appears over a dark image background. Canvas analysis should detect good contrast and automatically approve this.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 4: White Text on Medium Gray Image</div>
        <div class="medium-image-bg">
            This white text is on a medium gray image. This is a borderline case - pixel analysis will determine if it meets contrast requirements.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 5: Poor Contrast on Complex Image (Should Stay Manual Review)</div>
        <div class="complex-poor-contrast">
            This light gray text on a light image background has poor contrast and should remain flagged for manual review even after pixel analysis.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 6: Hero Section (Real-world Scenario)</div>
        <div class="hero-section">
            <div class="hero-title">Welcome to Our Site</div>
            <div class="hero-subtitle">Experience the difference with our innovative solutions</div>
            <button class="hero-cta">Get Started</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Image contrast test page loaded. Run the accessibility checker to test canvas-based pixel analysis for text over images.');
            
            // Log information about the test cases
            const testCases = document.querySelectorAll('.test-case > div:not(.test-title)');
            testCases.forEach((testCase, index) => {
                const styles = window.getComputedStyle(testCase);
                console.log(`Test case ${index + 1}:`, {
                    backgroundImage: styles.backgroundImage !== 'none',
                    color: styles.color,
                    fontSize: styles.fontSize,
                    element: testCase
                });
            });
        });
    </script>
</body>
</html>